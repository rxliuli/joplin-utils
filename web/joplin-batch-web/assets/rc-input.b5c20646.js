import{r as d,R as o}from"./react.bcb0ff15.js";import{c as _}from"./classnames.fcae7549.js";import{d as h,_ as Y,b as p,c as U,a as V,j as ee}from"./@babel/runtime.77033aed.js";import{b as ne,o as ae}from"./rc-util.9e22709c.js";function H(e){return!!(e.addonBefore||e.addonAfter)}function Z(e){return!!(e.prefix||e.suffix||e.allowClear)}function W(e,n,i,t){if(!!i){var r=n;if(n.type==="click"){var c=e.cloneNode(!0);r=Object.create(n,{target:{value:c},currentTarget:{value:c}}),c.value="",i(r);return}if(t!==void 0){r=Object.create(n,{target:{value:e},currentTarget:{value:e}}),e.value=t,i(r);return}i(r)}}function te(e,n){if(!!e){e.focus(n);var i=n||{},t=i.cursor;if(t){var r=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}function X(e){return typeof e>"u"||e===null?"":String(e)}var re=function(n){var i=n.inputElement,t=n.prefixCls,r=n.prefix,c=n.suffix,B=n.addonBefore,C=n.addonAfter,D=n.className,v=n.style,w=n.affixWrapperClassName,T=n.groupClassName,k=n.wrapperClassName,N=n.disabled,y=n.readOnly,b=n.focused,E=n.triggerFocus,s=n.allowClear,R=n.value,q=n.handleReset,F=n.hidden,M=d.exports.useRef(null),z=function(m){var g;!((g=M.current)===null||g===void 0)&&g.contains(m.target)&&(E==null||E())},O=function(){var m;if(!s)return null;var g=!N&&!y&&R,K="".concat(t,"-clear-icon"),u=Y(s)==="object"&&(s==null?void 0:s.clearIcon)?s.clearIcon:"\u2716";return o.createElement("span",{onClick:q,onMouseDown:function(I){return I.preventDefault()},className:_(K,(m={},h(m,"".concat(K,"-hidden"),!g),h(m,"".concat(K,"-has-suffix"),!!c),m)),role:"button",tabIndex:-1},u)},j=d.exports.cloneElement(i,{value:R,hidden:F});if(Z(n)){var f,x="".concat(t,"-affix-wrapper"),A=_(x,(f={},h(f,"".concat(x,"-disabled"),N),h(f,"".concat(x,"-focused"),b),h(f,"".concat(x,"-readonly"),y),h(f,"".concat(x,"-input-with-clear-btn"),c&&s&&R),f),!H(n)&&D,w),l=(c||s)&&o.createElement("span",{className:"".concat(t,"-suffix")},O(),c);j=o.createElement("span",{className:A,style:v,hidden:!H(n)&&F,onMouseDown:z,ref:M},r&&o.createElement("span",{className:"".concat(t,"-prefix")},r),d.exports.cloneElement(i,{style:null,value:R,hidden:null}),l)}if(H(n)){var S="".concat(t,"-group"),L="".concat(S,"-addon"),G=_("".concat(t,"-wrapper"),S,k),J=_("".concat(t,"-group-wrapper"),D,T);return o.createElement("span",{className:J,style:v,hidden:F},o.createElement("span",{className:G},B&&o.createElement("span",{className:L},B),d.exports.cloneElement(j,{style:null,hidden:null}),C&&o.createElement("span",{className:L},C)))}return j},ue=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],se=d.exports.forwardRef(function(e,n){var i=e.autoComplete,t=e.onChange,r=e.onFocus,c=e.onBlur,B=e.onPressEnter,C=e.onKeyDown,D=e.prefixCls,v=D===void 0?"rc-input":D,w=e.disabled,T=e.htmlSize,k=e.className,N=e.maxLength,y=e.suffix,b=e.showCount,E=e.type,s=E===void 0?"text":E,R=e.inputClassName,q=p(e,ue),F=ne(e.defaultValue,{value:e.value}),M=U(F,2),z=M[0],O=M[1],j=d.exports.useState(!1),f=U(j,2),x=f[0],A=f[1],l=d.exports.useRef(null),S=function(a){l.current&&te(l.current,a)};d.exports.useImperativeHandle(n,function(){return{focus:S,blur:function(){var a;(a=l.current)===null||a===void 0||a.blur()},setSelectionRange:function(a,I,P){var $;($=l.current)===null||$===void 0||$.setSelectionRange(a,I,P)},select:function(){var a;(a=l.current)===null||a===void 0||a.select()},input:l.current}}),d.exports.useEffect(function(){A(function(u){return u&&w?!1:u})},[w]);var L=function(a){e.value===void 0&&O(a.target.value),l.current&&W(l.current,a,t)},G=function(a){B&&a.key==="Enter"&&B(a),C==null||C(a)},J=function(a){A(!0),r==null||r(a)},Q=function(a){A(!1),c==null||c(a)},m=function(a){O(""),S(),l.current&&W(l.current,a,t)},g=function(){var a=ae(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return o.createElement("input",V(V({autoComplete:i},a),{},{onChange:L,onFocus:J,onBlur:Q,onKeyDown:G,className:_(v,h({},"".concat(v,"-disabled"),w),R,!H(e)&&!Z(e)&&k),ref:l,size:T,type:s}))},K=function(){var a=Number(N)>0;if(y||b){var I=X(z),P=ee(I).length,$=Y(b)==="object"?b.formatter({value:I,count:P,maxLength:N}):"".concat(P).concat(a?" / ".concat(N):"");return o.createElement(o.Fragment,null,!!b&&o.createElement("span",{className:_("".concat(v,"-show-count-suffix"),h({},"".concat(v,"-show-count-has-suffix"),!!y))},$),y)}return null};return o.createElement(re,V(V({},q),{},{prefixCls:v,className:k,inputElement:g(),handleReset:m,value:X(z),focused:x,triggerFocus:S,suffix:K(),disabled:w}))});export{se as I};
