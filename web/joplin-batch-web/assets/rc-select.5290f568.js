import{r as t}from"./react.bcb0ff15.js";import"./react-is.e13562bd.js";import{c as He}from"./classnames.fcae7549.js";import{w as ot,C as at,f as rt,p as ln,K as C,D as it,E as ut,b as pn,g as lt,c as ct,t as st,a as dt,o as ft}from"./rc-util.9e22709c.js";import{a as q,n as vt,j as ye,b as Ze,e as Ue,d as ne,_ as hn,c as te}from"./@babel/runtime.77033aed.js";import{T as pt}from"./rc-trigger.d92e6a44.js";import{F as mt}from"./rc-overflow.1c29c4d3.js";import{L as gt}from"./rc-virtual-list.03a0aeaa.js";function On(n,e){var a=n.key,o;return"value"in n&&(o=n.value),a!=null?a:o!==void 0?o:"rc-index-key-".concat(e)}function An(n,e){var a=n||{},o=a.label,i=a.value,r=a.options;return{label:o||(e?"children":"label"),value:i||"value",options:r||"options"}}function ht(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,o=e.childrenAsData,i=[],r=An(a,!1),c=r.label,v=r.value,l=r.options;function h(g,u){g.forEach(function(f){var s=f[c];if(u||!(l in f)){var y=f[v];i.push({key:On(f,i.length),groupOption:u,data:f,label:s,value:y})}else{var M=s;M===void 0&&o&&(M=f.label),i.push({key:On(f,i.length),group:!0,data:f,label:M}),h(f[l],!0)}})}return h(n,!1),i}function mn(n){var e=q({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return ot(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function bt(n,e){if(!e||!e.length)return null;var a=!1;function o(r,c){var v=vt(c),l=v[0],h=v.slice(1);if(!l)return[r];var g=r.split(l);return a=a||g.length>1,g.reduce(function(u,f){return[].concat(ye(u),ye(o(f,h)))},[]).filter(function(u){return u})}var i=o(n,e);return a?i:null}var xt=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],wt=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1}}}},St=function(e,a){var o=e.prefixCls;e.disabled;var i=e.visible,r=e.children,c=e.popupElement,v=e.containerWidth,l=e.animation,h=e.transitionName,g=e.dropdownStyle,u=e.dropdownClassName,f=e.direction,s=f===void 0?"ltr":f,y=e.placement,M=e.dropdownMatchSelectWidth,U=e.dropdownRender,R=e.dropdownAlign,O=e.getPopupContainer,_=e.empty,J=e.getTriggerDOMNode,B=e.onPopupVisibleChange,ue=e.onPopupMouseEnter,ce=Ze(e,xt),P="".concat(o,"-dropdown"),L=c;U&&(L=U(c));var G=t.exports.useMemo(function(){return wt(M)},[M]),z=l?"".concat(P,"-").concat(l):h,X=t.exports.useRef(null);t.exports.useImperativeHandle(a,function(){return{getPopupElement:function(){return X.current}}});var N=q({minWidth:v},g);return typeof M=="number"?N.width=M:M&&(N.width=v),t.exports.createElement(pt,Ue({},ce,{showAction:B?["click"]:[],hideAction:B?["click"]:[],popupPlacement:y||(s==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:G,prefixCls:P,popupTransitionName:z,popup:t.exports.createElement("div",{ref:X,onMouseEnter:ue},L),popupAlign:R,popupVisible:i,getPopupContainer:O,popupClassName:He(u,ne({},"".concat(P,"-empty"),_)),popupStyle:N,getTriggerDOMNode:J,onPopupVisibleChange:B}),r)},Fn=t.exports.forwardRef(St);Fn.displayName="SelectTrigger";var cn=function(e){var a=e.className,o=e.customizeIcon,i=e.customizeIconProps,r=e.onMouseDown,c=e.onClick,v=e.children,l;return typeof o=="function"?l=o(i):l=o,t.exports.createElement("span",{className:a,onMouseDown:function(g){g.preventDefault(),r&&r(g)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},l!==void 0?l:t.exports.createElement("span",{className:He(a.split(/\s+/).map(function(h){return"".concat(h,"-icon")}))},v))},Ct=function(e,a){var o,i,r=e.prefixCls,c=e.id,v=e.inputElement,l=e.disabled,h=e.tabIndex,g=e.autoFocus,u=e.autoComplete,f=e.editable,s=e.activeDescendantId,y=e.value,M=e.maxLength,U=e.onKeyDown,R=e.onMouseDown,O=e.onChange,_=e.onPaste,J=e.onCompositionStart,B=e.onCompositionEnd,ue=e.open,ce=e.attrs,P=v||t.exports.createElement("input",null),L=P,G=L.ref,z=L.props,X=z.onKeyDown,N=z.onChange,re=z.onMouseDown,A=z.onCompositionStart,x=z.onCompositionEnd,V=z.style;return at(!("maxLength"in P.props)),P=t.exports.cloneElement(P,q(q(q({type:"search"},z),{},{id:c,ref:rt(a,G),disabled:l,tabIndex:h,autoComplete:u||"off",autoFocus:g,className:He("".concat(r,"-selection-search-input"),(o=P)===null||o===void 0||(i=o.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":ue,"aria-haspopup":"listbox","aria-owns":"".concat(c,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(c,"_list"),"aria-activedescendant":s},ce),{},{value:f?y:"",maxLength:M,readOnly:!f,unselectable:f?null:"on",style:q(q({},V),{},{opacity:f?null:0}),onKeyDown:function(k){U(k),X&&X(k)},onMouseDown:function(k){R(k),re&&re(k)},onChange:function(k){O(k),N&&N(k)},onCompositionStart:function(k){J(k),A&&A(k)},onCompositionEnd:function(k){B(k),x&&x(k)},onPaste:_})),P},bn=t.exports.forwardRef(Ct);bn.displayName="Input";function _n(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var yt=typeof window<"u"&&window.document&&window.document.documentElement,It=yt;function Et(n){return n!=null}function Mn(n){return["string","number"].includes(hn(n))}function Ln(n){var e=void 0;return n&&(Mn(n.title)?e=n.title.toString():Mn(n.label)&&(e=n.label.toString())),e}function Dt(n,e){It?t.exports.useLayoutEffect(n,e):t.exports.useEffect(n,e)}function Rt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Pn=function(e){e.preventDefault(),e.stopPropagation()},Ot=function(e){var a=e.id,o=e.prefixCls,i=e.values,r=e.open,c=e.searchValue,v=e.inputRef,l=e.placeholder,h=e.disabled,g=e.mode,u=e.showSearch,f=e.autoFocus,s=e.autoComplete,y=e.activeDescendantId,M=e.tabIndex,U=e.removeIcon,R=e.maxTagCount,O=e.maxTagTextLength,_=e.maxTagPlaceholder,J=_===void 0?function(W){return"+ ".concat(W.length," ...")}:_,B=e.tagRender,ue=e.onToggleOpen,ce=e.onRemove,P=e.onInputChange,L=e.onInputPaste,G=e.onInputKeyDown,z=e.onInputMouseDown,X=e.onInputCompositionStart,N=e.onInputCompositionEnd,re=t.exports.useRef(null),A=t.exports.useState(0),x=te(A,2),V=x[0],j=x[1],k=t.exports.useState(!1),me=te(k,2),se=me[0],Ae=me[1],K="".concat(o,"-selection"),D=r||g==="tags"?c:"",p=g==="tags"||u&&(r||se);Dt(function(){j(re.current.scrollWidth)},[D]);function E(W,oe,fe,le,ge){return t.exports.createElement("span",{className:He("".concat(K,"-item"),ne({},"".concat(K,"-item-disabled"),fe)),title:Ln(W)},t.exports.createElement("span",{className:"".concat(K,"-item-content")},oe),le&&t.exports.createElement(cn,{className:"".concat(K,"-item-remove"),onMouseDown:Pn,onClick:ge,customizeIcon:U},"\xD7"))}function $(W,oe,fe,le,ge){var Se=function(he){Pn(he),ue(!r)};return t.exports.createElement("span",{onMouseDown:Se},B({label:oe,value:W,disabled:fe,closable:le,onClose:ge}))}function T(W){var oe=W.disabled,fe=W.label,le=W.value,ge=!h&&!oe,Se=fe;if(typeof O=="number"&&(typeof fe=="string"||typeof fe=="number")){var ve=String(Se);ve.length>O&&(Se="".concat(ve.slice(0,O),"..."))}var he=function(be){be&&be.stopPropagation(),ce(W)};return typeof B=="function"?$(le,Se,oe,ge,he):E(W,Se,oe,ge,he)}function F(W){var oe=typeof J=="function"?J(W):J;return E({title:oe},oe,!1)}var Z=t.exports.createElement("div",{className:"".concat(K,"-search"),style:{width:V},onFocus:function(){Ae(!0)},onBlur:function(){Ae(!1)}},t.exports.createElement(bn,{ref:v,open:r,prefixCls:o,id:a,inputElement:null,disabled:h,autoFocus:f,autoComplete:s,editable:p,activeDescendantId:y,value:D,onKeyDown:G,onMouseDown:z,onChange:P,onPaste:L,onCompositionStart:X,onCompositionEnd:N,tabIndex:M,attrs:ln(e,!0)}),t.exports.createElement("span",{ref:re,className:"".concat(K,"-search-mirror"),"aria-hidden":!0},D,"\xA0")),de=t.exports.createElement(mt,{prefixCls:"".concat(K,"-overflow"),data:i,renderItem:T,renderRest:F,suffix:Z,itemKey:Rt,maxCount:R});return t.exports.createElement(t.exports.Fragment,null,de,!i.length&&!D&&t.exports.createElement("span",{className:"".concat(K,"-placeholder")},l))},Mt=function(e){var a=e.inputElement,o=e.prefixCls,i=e.id,r=e.inputRef,c=e.disabled,v=e.autoFocus,l=e.autoComplete,h=e.activeDescendantId,g=e.mode,u=e.open,f=e.values,s=e.placeholder,y=e.tabIndex,M=e.showSearch,U=e.searchValue,R=e.activeValue,O=e.maxLength,_=e.onInputKeyDown,J=e.onInputMouseDown,B=e.onInputChange,ue=e.onInputPaste,ce=e.onInputCompositionStart,P=e.onInputCompositionEnd,L=t.exports.useState(!1),G=te(L,2),z=G[0],X=G[1],N=g==="combobox",re=N||M,A=f[0],x=U||"";N&&R&&!z&&(x=R),t.exports.useEffect(function(){N&&X(!1)},[N,R]);var V=g!=="combobox"&&!u&&!M?!1:!!x,j=Ln(A),k=function(){if(A)return null;var se=V?{visibility:"hidden"}:void 0;return t.exports.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:se},s)};return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("span",{className:"".concat(o,"-selection-search")},t.exports.createElement(bn,{ref:r,prefixCls:o,id:i,open:u,inputElement:a,disabled:c,autoFocus:v,autoComplete:l,editable:re,activeDescendantId:h,value:x,onKeyDown:_,onMouseDown:J,onChange:function(se){X(!0),B(se)},onPaste:ue,onCompositionStart:ce,onCompositionEnd:P,tabIndex:y,attrs:ln(e,!0),maxLength:N?O:void 0})),!N&&A&&!V&&t.exports.createElement("span",{className:"".concat(o,"-selection-item"),title:j},A.label),k())};function kn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.exports.useRef(null),a=t.exports.useRef(null);t.exports.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function o(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(a.current),a.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},o]}function Pt(n){return![C.ESC,C.SHIFT,C.BACKSPACE,C.TAB,C.WIN_KEY,C.ALT,C.META,C.WIN_KEY_RIGHT,C.CTRL,C.SEMICOLON,C.EQUALS,C.CAPS_LOCK,C.CONTEXT_MENU,C.F1,C.F2,C.F3,C.F4,C.F5,C.F6,C.F7,C.F8,C.F9,C.F10,C.F11,C.F12].includes(n)}var Nt=function(e,a){var o=t.exports.useRef(null),i=t.exports.useRef(!1),r=e.prefixCls,c=e.open,v=e.mode,l=e.showSearch,h=e.tokenWithEnter,g=e.onSearch,u=e.onSearchSubmit,f=e.onToggleOpen,s=e.onInputKeyDown,y=e.domRef;t.exports.useImperativeHandle(a,function(){return{focus:function(){o.current.focus()},blur:function(){o.current.blur()}}});var M=kn(0),U=te(M,2),R=U[0],O=U[1],_=function(x){var V=x.which;(V===C.UP||V===C.DOWN)&&x.preventDefault(),s&&s(x),V===C.ENTER&&v==="tags"&&!i.current&&!c&&(u==null||u(x.target.value)),Pt(V)&&f(!0)},J=function(){O(!0)},B=t.exports.useRef(null),ue=function(x){g(x,!0,i.current)!==!1&&f(!0)},ce=function(){i.current=!0},P=function(x){i.current=!1,v!=="combobox"&&ue(x.target.value)},L=function(x){var V=x.target.value;if(h&&B.current&&/[\r\n]/.test(B.current)){var j=B.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");V=V.replace(j,B.current)}B.current=null,ue(V)},G=function(x){var V=x.clipboardData,j=V.getData("text");B.current=j},z=function(x){var V=x.target;if(V!==o.current){var j=document.body.style.msTouchAction!==void 0;j?setTimeout(function(){o.current.focus()}):o.current.focus()}},X=function(x){var V=R();x.target!==o.current&&!V&&v!=="combobox"&&x.preventDefault(),(v!=="combobox"&&(!l||!V)||!c)&&(c&&g("",!0,!1),f())},N={inputRef:o,onInputKeyDown:_,onInputMouseDown:J,onInputChange:L,onInputPaste:G,onInputCompositionStart:ce,onInputCompositionEnd:P},re=v==="multiple"||v==="tags"?t.exports.createElement(Ot,Ue({},e,N)):t.exports.createElement(Mt,Ue({},e,N));return t.exports.createElement("div",{ref:y,className:"".concat(r,"-selector"),onClick:z,onMouseDown:X},re)},Kn=t.exports.forwardRef(Nt);Kn.displayName="Selector";function Tt(n,e,a,o){var i=t.exports.useRef(null);i.current={open:e,triggerOpen:a,customizedTrigger:o},t.exports.useEffect(function(){function r(c){var v;if(!(!((v=i.current)===null||v===void 0)&&v.customizedTrigger)){var l=c.target;l.shadowRoot&&c.composed&&(l=c.composedPath()[0]||l),i.current.open&&n().filter(function(h){return h}).every(function(h){return!h.contains(l)&&h!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",r),function(){return window.removeEventListener("mousedown",r)}},[])}function Vt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.exports.useState(!1),a=te(e,2),o=a[0],i=a[1],r=t.exports.useRef(null),c=function(){window.clearTimeout(r.current)};t.exports.useEffect(function(){return c},[]);var v=function(h,g){c(),r.current=window.setTimeout(function(){i(h),g&&g()},n)};return[o,v,c]}var $n=t.exports.createContext(null);function At(){return t.exports.useContext($n)}var Ft=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],_t=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function gn(n){return n==="tags"||n==="multiple"}var Lt=t.exports.forwardRef(function(n,e){var a,o,i=n.id,r=n.prefixCls,c=n.className,v=n.showSearch,l=n.tagRender,h=n.direction,g=n.omitDomProps,u=n.displayValues,f=n.onDisplayValuesChange,s=n.emptyOptions,y=n.notFoundContent,M=y===void 0?"Not Found":y,U=n.onClear,R=n.mode,O=n.disabled,_=n.loading,J=n.getInputElement,B=n.getRawInputElement,ue=n.open,ce=n.defaultOpen,P=n.onDropdownVisibleChange,L=n.activeValue,G=n.onActiveValueChange,z=n.activeDescendantId,X=n.searchValue,N=n.onSearch,re=n.onSearchSplit,A=n.tokenSeparators,x=n.allowClear,V=n.showArrow,j=n.inputIcon,k=n.clearIcon,me=n.OptionList,se=n.animation,Ae=n.transitionName,K=n.dropdownStyle,D=n.dropdownClassName,p=n.dropdownMatchSelectWidth,E=n.dropdownRender,$=n.dropdownAlign,T=n.placement,F=n.getPopupContainer,Z=n.showAction,de=Z===void 0?[]:Z,W=n.onFocus,oe=n.onBlur,fe=n.onKeyUp,le=n.onKeyDown,ge=n.onMouseDown,Se=Ze(n,Ft),ve=gn(R),he=(v!==void 0?v:ve)||R==="combobox",Q=q({},Se);_t.forEach(function(S){delete Q[S]}),g==null||g.forEach(function(S){delete Q[S]});var be=t.exports.useState(!1),Ie=te(be,2),ke=Ie[0],Oe=Ie[1];t.exports.useEffect(function(){Oe(it())},[]);var ze=t.exports.useRef(null),Ce=t.exports.useRef(null),Me=t.exports.useRef(null),Fe=t.exports.useRef(null),Pe=t.exports.useRef(null),je=Vt(),en=te(je,3),Ye=en[0],nn=en[1],Je=en[2];t.exports.useImperativeHandle(e,function(){var S,w;return{focus:(S=Fe.current)===null||S===void 0?void 0:S.focus,blur:(w=Fe.current)===null||w===void 0?void 0:w.blur,scrollTo:function(xe){var ee;return(ee=Pe.current)===null||ee===void 0?void 0:ee.scrollTo(xe)}}});var Ee=t.exports.useMemo(function(){var S;if(R!=="combobox")return X;var w=(S=u[0])===null||S===void 0?void 0:S.value;return typeof w=="string"||typeof w=="number"?String(w):""},[X,R,u]),tn=R==="combobox"&&typeof J=="function"&&J()||null,Ne=typeof B=="function"&&B(),sn=ut(Ce,Ne==null||(a=Ne.props)===null||a===void 0?void 0:a.ref),rn=pn(void 0,{defaultValue:ce,value:ue}),on=te(rn,2),Ge=on[0],Qe=on[1],ae=Ge,un=!M&&s;(O||un&&ae&&R==="combobox")&&(ae=!1);var Ke=un?!1:ae,De=t.exports.useCallback(function(S){var w=S!==void 0?S:!ae;ae!==w&&!O&&(Qe(w),P==null||P(w))},[O,ae,Qe,P]),b=t.exports.useMemo(function(){return(A||[]).some(function(S){return[`
`,`\r
`].includes(S)})},[A]),m=function(w,pe,xe){var ee=!0,we=w;G==null||G(null);var Re=xe?null:bt(w,A);return R!=="combobox"&&Re&&(we="",re==null||re(Re),De(!1),ee=!1),N&&Ee!==we&&N(we,{source:pe?"typing":"effect"}),ee},d=function(w){!w||!w.trim()||N(w,{source:"submit"})};t.exports.useEffect(function(){!ae&&!ve&&R!=="combobox"&&m("",!1,!1)},[ae]),t.exports.useEffect(function(){Ge&&O&&Qe(!1),O&&nn(!1)},[O]);var I=kn(),H=te(I,2),Y=H[0],$e=H[1],Te=function(w){var pe=Y(),xe=w.which;if(xe===C.ENTER&&(R!=="combobox"&&w.preventDefault(),ae||De(!0)),$e(!!Ee),xe===C.BACKSPACE&&!pe&&ve&&!Ee&&u.length){for(var ee=ye(u),we=null,Re=ee.length-1;Re>=0;Re-=1){var an=ee[Re];if(!an.disabled){ee.splice(Re,1),we=an;break}}we&&f(ee,{type:"remove",values:[we]})}for(var We=arguments.length,qe=new Array(We>1?We-1:0),Be=1;Be<We;Be++)qe[Be-1]=arguments[Be];if(ae&&Pe.current){var Rn;(Rn=Pe.current).onKeyDown.apply(Rn,[w].concat(qe))}le==null||le.apply(void 0,[w].concat(qe))},Xe=function(w){for(var pe=arguments.length,xe=new Array(pe>1?pe-1:0),ee=1;ee<pe;ee++)xe[ee-1]=arguments[ee];if(ae&&Pe.current){var we;(we=Pe.current).onKeyUp.apply(we,[w].concat(xe))}fe==null||fe.apply(void 0,[w].concat(xe))},ie=function(w){var pe=u.filter(function(xe){return xe!==w});f(pe,{type:"remove",values:[w]})},_e=t.exports.useRef(!1),dn=function(){nn(!0),O||(W&&!_e.current&&W.apply(void 0,arguments),de.includes("focus")&&De(!0)),_e.current=!0},xn=function(){nn(!1,function(){_e.current=!1,De(!1)}),!O&&(Ee&&(R==="tags"?N(Ee,{source:"submit"}):R==="multiple"&&N("",{source:"blur"})),oe&&oe.apply(void 0,arguments))},Ve=[];t.exports.useEffect(function(){return function(){Ve.forEach(function(S){return clearTimeout(S)}),Ve.splice(0,Ve.length)}},[]);var Le=function(w){var pe,xe=w.target,ee=(pe=Me.current)===null||pe===void 0?void 0:pe.getPopupElement();if(ee&&ee.contains(xe)){var we=setTimeout(function(){var qe=Ve.indexOf(we);if(qe!==-1&&Ve.splice(qe,1),Je(),!ke&&!ee.contains(document.activeElement)){var Be;(Be=Fe.current)===null||Be===void 0||Be.focus()}});Ve.push(we)}for(var Re=arguments.length,an=new Array(Re>1?Re-1:0),We=1;We<Re;We++)an[We-1]=arguments[We];ge==null||ge.apply(void 0,[w].concat(an))},Gn=t.exports.useState(null),wn=te(Gn,2),Sn=wn[0],Xn=wn[1],Yn=t.exports.useState({}),Jn=te(Yn,2),Qn=Jn[1];function qn(){Qn({})}lt(function(){if(Ke){var S,w=Math.ceil((S=ze.current)===null||S===void 0?void 0:S.offsetWidth);Sn!==w&&!Number.isNaN(w)&&Xn(w)}},[Ke]);var Cn;Ne&&(Cn=function(w){De(w)}),Tt(function(){var S;return[ze.current,(S=Me.current)===null||S===void 0?void 0:S.getPopupElement()]},Ke,De,!!Ne);var Zn=t.exports.useMemo(function(){return q(q({},n),{},{notFoundContent:M,open:ae,triggerOpen:Ke,id:i,showSearch:he,multiple:ve,toggleOpen:De})},[n,M,Ke,ae,i,he,ve,De]),yn=V!==void 0?V:_||!ve&&R!=="combobox",In;yn&&(In=t.exports.createElement(cn,{className:He("".concat(r,"-arrow"),ne({},"".concat(r,"-arrow-loading"),_)),customizeIcon:j,customizeIconProps:{loading:_,searchValue:Ee,open:ae,focused:Ye,showSearch:he}}));var En,et=function(){U==null||U(),f([],{type:"clear",values:u}),m("",!1,!1)};!O&&x&&(u.length||Ee)&&!(R==="combobox"&&Ee==="")&&(En=t.exports.createElement(cn,{className:"".concat(r,"-clear"),onMouseDown:et,customizeIcon:k},"\xD7"));var nt=t.exports.createElement(me,{ref:Pe}),tt=He(r,c,(o={},ne(o,"".concat(r,"-focused"),Ye),ne(o,"".concat(r,"-multiple"),ve),ne(o,"".concat(r,"-single"),!ve),ne(o,"".concat(r,"-allow-clear"),x),ne(o,"".concat(r,"-show-arrow"),yn),ne(o,"".concat(r,"-disabled"),O),ne(o,"".concat(r,"-loading"),_),ne(o,"".concat(r,"-open"),ae),ne(o,"".concat(r,"-customize-input"),tn),ne(o,"".concat(r,"-show-search"),he),o)),Dn=t.exports.createElement(Fn,{ref:Me,disabled:O,prefixCls:r,visible:Ke,popupElement:nt,containerWidth:Sn,animation:se,transitionName:Ae,dropdownStyle:K,dropdownClassName:D,direction:h,dropdownMatchSelectWidth:p,dropdownRender:E,dropdownAlign:$,placement:T,getPopupContainer:F,empty:s,getTriggerDOMNode:function(){return Ce.current},onPopupVisibleChange:Cn,onPopupMouseEnter:qn},Ne?t.exports.cloneElement(Ne,{ref:sn}):t.exports.createElement(Kn,Ue({},n,{domRef:Ce,prefixCls:r,inputElement:tn,ref:Fe,id:i,showSearch:he,mode:R,activeDescendantId:z,tagRender:l,values:u,open:ae,onToggleOpen:De,activeValue:L,searchValue:Ee,onSearch:m,onSearchSubmit:d,onRemove:ie,tokenWithEnter:b}))),fn;return Ne?fn=Dn:fn=t.exports.createElement("div",Ue({className:tt},Q,{ref:ze,onMouseDown:Le,onKeyDown:Te,onKeyUp:Xe,onFocus:dn,onBlur:xn}),Ye&&!ae&&t.exports.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(u.map(function(S){var w=S.label,pe=S.value;return["number","string"].includes(hn(w))?w:pe}).join(", "))),Dn,In,En),t.exports.createElement($n.Provider,{value:Zn},fn)});const kt=function(n,e){var a=t.exports.useRef({values:new Map,options:new Map}),o=t.exports.useMemo(function(){var r=a.current,c=r.values,v=r.options,l=n.map(function(u){if(u.label===void 0){var f;return q(q({},u),{},{label:(f=c.get(u.value))===null||f===void 0?void 0:f.label})}return u}),h=new Map,g=new Map;return l.forEach(function(u){h.set(u.value,u),g.set(u.value,e.get(u.value)||v.get(u.value))}),a.current.values=h,a.current.options=g,l},[n,e]),i=t.exports.useCallback(function(r){return e.get(r)||a.current.options.get(r)},[e]);return[o,i]};function vn(n,e){return _n(n).join("").toUpperCase().includes(e)}const Kt=function(n,e,a,o,i){return t.exports.useMemo(function(){if(!a||o===!1)return n;var r=e.options,c=e.label,v=e.value,l=[],h=typeof o=="function",g=a.toUpperCase(),u=h?o:function(s,y){return i?vn(y[i],g):y[r]?vn(y[c!=="children"?c:"label"],g):vn(y[v],g)},f=h?function(s){return mn(s)}:function(s){return s};return n.forEach(function(s){if(s[r]){var y=u(a,f(s));if(y)l.push(s);else{var M=s[r].filter(function(U){return u(a,f(U))});M.length&&l.push(q(q({},s),{},ne({},r,M)))}return}u(a,f(s))&&l.push(s)}),l},[n,o,i,a,e])};var Nn=0,$t=ct();function Wt(){var n;return $t?(n=Nn,Nn+=1):n="TEST_OR_SSR",n}function Bt(n){var e=t.exports.useState(),a=te(e,2),o=a[0],i=a[1];return t.exports.useEffect(function(){i("rc_select_".concat(Wt()))},[]),n||o}var Ht=["children","value"],Ut=["children"];function zt(n){var e=n.key,a=n.props,o=a.children,i=a.value,r=Ze(a,Ht);return q({key:e,value:i!==void 0?i:e,children:o},r)}function Wn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return st(n).map(function(a,o){if(!t.exports.isValidElement(a)||!a.type)return null;var i=a.type.isSelectOptGroup,r=a.key,c=a.props,v=c.children,l=Ze(c,Ut);return e||!i?zt(a):q(q({key:"__RC_SELECT_GRP__".concat(r===null?o:r,"__"),label:r},l),{},{options:Wn(v)})}).filter(function(a){return a})}function jt(n,e,a,o,i){return t.exports.useMemo(function(){var r=n,c=!n;c&&(r=Wn(e));var v=new Map,l=new Map,h=function(f,s,y){y&&typeof y=="string"&&f.set(s[y],s)};function g(u){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=0;s<u.length;s+=1){var y=u[s];!y[a.options]||f?(v.set(y[a.value],y),h(l,y,a.label),h(l,y,o),h(l,y,i)):g(y[a.options],!0)}}return g(r),{options:r,valueOptions:v,labelOptions:l}},[n,e,a,o,i])}function Tn(n){var e=t.exports.useRef();e.current=n;var a=t.exports.useCallback(function(){return e.current.apply(e,arguments)},[]);return a}var Bn=function(){return null};Bn.isSelectOptGroup=!0;var Hn=function(){return null};Hn.isSelectOption=!0;function Gt(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Un=t.exports.createContext(null),Xt=["disabled","title","children","style","className"];function Vn(n){return typeof n=="string"||typeof n=="number"}var Yt=function(e,a){var o=At(),i=o.prefixCls,r=o.id,c=o.open,v=o.multiple,l=o.mode,h=o.searchValue,g=o.toggleOpen,u=o.notFoundContent,f=o.onPopupScroll,s=t.exports.useContext(Un),y=s.flattenOptions,M=s.onActiveValue,U=s.defaultActiveFirstOption,R=s.onSelect,O=s.menuItemSelectedIcon,_=s.rawValues,J=s.fieldNames,B=s.virtual,ue=s.listHeight,ce=s.listItemHeight,P="".concat(i,"-item"),L=dt(function(){return y},[c,y],function(D,p){return p[0]&&D[1]!==p[1]}),G=t.exports.useRef(null),z=function(p){p.preventDefault()},X=function(p){G.current&&G.current.scrollTo(typeof p=="number"?{index:p}:p)},N=function(p){for(var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=L.length,T=0;T<$;T+=1){var F=(p+T*E+$)%$,Z=L[F],de=Z.group,W=Z.data;if(!de&&!W.disabled)return F}return-1},re=t.exports.useState(function(){return N(0)}),A=te(re,2),x=A[0],V=A[1],j=function(p){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;V(p);var $={source:E?"keyboard":"mouse"},T=L[p];if(!T){M(null,-1,$);return}M(T.value,p,$)};t.exports.useEffect(function(){j(U!==!1?N(0):-1)},[L.length,h]);var k=t.exports.useCallback(function(D){return _.has(D)&&l!=="combobox"},[l,ye(_).toString()]);t.exports.useEffect(function(){var D=setTimeout(function(){if(!v&&c&&_.size===1){var E=Array.from(_)[0],$=L.findIndex(function(T){var F=T.data;return F.value===E});$!==-1&&(j($),X($))}});if(c){var p;(p=G.current)===null||p===void 0||p.scrollTo(void 0)}return function(){return clearTimeout(D)}},[c,h]);var me=function(p){p!==void 0&&R(p,{selected:!_.has(p)}),v||g(!1)};if(t.exports.useImperativeHandle(a,function(){return{onKeyDown:function(p){var E=p.which,$=p.ctrlKey;switch(E){case C.N:case C.P:case C.UP:case C.DOWN:{var T=0;if(E===C.UP?T=-1:E===C.DOWN?T=1:Gt()&&$&&(E===C.N?T=1:E===C.P&&(T=-1)),T!==0){var F=N(x+T,T);X(F),j(F,!0)}break}case C.ENTER:{var Z=L[x];Z&&!Z.data.disabled?me(Z.value):me(void 0),c&&p.preventDefault();break}case C.ESC:g(!1),c&&p.stopPropagation()}},onKeyUp:function(){},scrollTo:function(p){X(p)}}}),L.length===0)return t.exports.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(P,"-empty"),onMouseDown:z},u);var se=Object.keys(J).map(function(D){return J[D]}),Ae=function(p){return p.label},K=function(p){var E=L[p];if(!E)return null;var $=E.data||{},T=$.value,F=E.group,Z=ln($,!0),de=Ae(E);return E?t.exports.createElement("div",Ue({"aria-label":typeof de=="string"&&!F?de:null},Z,{key:p,role:F?"presentation":"option",id:"".concat(r,"_list_").concat(p),"aria-selected":k(T)}),T):null};return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("div",{role:"listbox",id:"".concat(r,"_list"),style:{height:0,width:0,overflow:"hidden"}},K(x-1),K(x),K(x+1)),t.exports.createElement(gt,{itemKey:"key",ref:G,data:L,height:ue,itemHeight:ce,fullHeight:!1,onMouseDown:z,onScroll:f,virtual:B},function(D,p){var E,$=D.group,T=D.groupOption,F=D.data,Z=D.label,de=D.value,W=F.key;if($){var oe,fe=(oe=F.title)!==null&&oe!==void 0?oe:Vn(Z)?Z.toString():void 0;return t.exports.createElement("div",{className:He(P,"".concat(P,"-group")),title:fe},Z!==void 0?Z:W)}var le=F.disabled,ge=F.title;F.children;var Se=F.style,ve=F.className,he=Ze(F,Xt),Q=ft(he,se),be=k(de),Ie="".concat(P,"-option"),ke=He(P,Ie,ve,(E={},ne(E,"".concat(Ie,"-grouped"),T),ne(E,"".concat(Ie,"-active"),x===p&&!le),ne(E,"".concat(Ie,"-disabled"),le),ne(E,"".concat(Ie,"-selected"),be),E)),Oe=Ae(D),ze=!O||typeof O=="function"||be,Ce=typeof Oe=="number"?Oe:Oe||de,Me=Vn(Ce)?Ce.toString():void 0;return ge!==void 0&&(Me=ge),t.exports.createElement("div",Ue({},ln(Q),{"aria-selected":be,className:ke,title:Me,onMouseMove:function(){x===p||le||j(p)},onClick:function(){le||me(de)},style:Se}),t.exports.createElement("div",{className:"".concat(Ie,"-content")},Ce),t.exports.isValidElement(O)||be,ze&&t.exports.createElement(cn,{className:"".concat(P,"-option-state"),customizeIcon:O,customizeIconProps:{isSelected:be}},be?"\u2713":null))}))},zn=t.exports.forwardRef(Yt);zn.displayName="OptionList";var Jt=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],Qt=["inputValue"];function qt(n){return!n||hn(n)!=="object"}var Zt=t.exports.forwardRef(function(n,e){var a=n.id,o=n.mode,i=n.prefixCls,r=i===void 0?"rc-select":i,c=n.backfill,v=n.fieldNames,l=n.inputValue,h=n.searchValue,g=n.onSearch,u=n.autoClearSearchValue,f=u===void 0?!0:u,s=n.onSelect,y=n.onDeselect,M=n.dropdownMatchSelectWidth,U=M===void 0?!0:M,R=n.filterOption,O=n.filterSort,_=n.optionFilterProp,J=n.optionLabelProp,B=n.options,ue=n.children,ce=n.defaultActiveFirstOption,P=n.menuItemSelectedIcon,L=n.virtual,G=n.listHeight,z=G===void 0?200:G,X=n.listItemHeight,N=X===void 0?20:X,re=n.value,A=n.defaultValue,x=n.labelInValue,V=n.onChange,j=Ze(n,Jt),k=Bt(a),me=gn(o),se=!!(!B&&ue),Ae=t.exports.useMemo(function(){return R===void 0&&o==="combobox"?!1:R},[R,o]),K=t.exports.useMemo(function(){return An(v,se)},[JSON.stringify(v),se]),D=pn("",{value:h!==void 0?h:l,postState:function(m){return m||""}}),p=te(D,2),E=p[0],$=p[1],T=jt(B,ue,K,_,J),F=T.valueOptions,Z=T.labelOptions,de=T.options,W=t.exports.useCallback(function(b){var m=_n(b);return m.map(function(d){var I,H,Y,$e,Te;if(qt(d))I=d;else{var Xe;Y=d.key,H=d.label,I=(Xe=d.value)!==null&&Xe!==void 0?Xe:Y}var ie=F.get(I);if(ie){var _e;H===void 0&&(H=ie==null?void 0:ie[J||K.label]),Y===void 0&&(Y=(_e=ie==null?void 0:ie.key)!==null&&_e!==void 0?_e:I),$e=ie==null?void 0:ie.disabled,Te=ie==null?void 0:ie.title}return{label:H,value:I,key:Y,disabled:$e,title:Te}})},[K,J,F]),oe=pn(A,{value:re}),fe=te(oe,2),le=fe[0],ge=fe[1],Se=t.exports.useMemo(function(){var b,m=W(le);return o==="combobox"&&!(!((b=m[0])===null||b===void 0)&&b.value)?[]:m},[le,W,o]),ve=kt(Se,F),he=te(ve,2),Q=he[0],be=he[1],Ie=t.exports.useMemo(function(){if(!o&&Q.length===1){var b=Q[0];if(b.value===null&&(b.label===null||b.label===void 0))return[]}return Q.map(function(m){var d;return q(q({},m),{},{label:(d=m.label)!==null&&d!==void 0?d:m.value})})},[o,Q]),ke=t.exports.useMemo(function(){return new Set(Q.map(function(b){return b.value}))},[Q]);t.exports.useEffect(function(){if(o==="combobox"){var b,m=(b=Q[0])===null||b===void 0?void 0:b.value;$(Et(m)?String(m):"")}},[Q]);var Oe=Tn(function(b,m){var d,I=m!=null?m:b;return d={},ne(d,K.value,b),ne(d,K.label,I),d}),ze=t.exports.useMemo(function(){if(o!=="tags")return de;var b=ye(de),m=function(I){return F.has(I)};return ye(Q).sort(function(d,I){return d.value<I.value?-1:1}).forEach(function(d){var I=d.value;m(I)||b.push(Oe(I,d.label))}),b},[Oe,de,F,Q,o]),Ce=Kt(ze,K,E,Ae,_),Me=t.exports.useMemo(function(){return o!=="tags"||!E||Ce.some(function(b){return b[_||"value"]===E})?Ce:[Oe(E)].concat(ye(Ce))},[Oe,_,o,Ce,E]),Fe=t.exports.useMemo(function(){return O?ye(Me).sort(function(b,m){return O(b,m)}):Me},[Me,O]),Pe=t.exports.useMemo(function(){return ht(Fe,{fieldNames:K,childrenAsData:se})},[Fe,K,se]),je=function(m){var d=W(m);if(ge(d),V&&(d.length!==Q.length||d.some(function(Y,$e){var Te;return((Te=Q[$e])===null||Te===void 0?void 0:Te.value)!==(Y==null?void 0:Y.value)}))){var I=x?d:d.map(function(Y){return Y.value}),H=d.map(function(Y){return mn(be(Y.value))});V(me?I:I[0],me?H:H[0])}},en=t.exports.useState(null),Ye=te(en,2),nn=Ye[0],Je=Ye[1],Ee=t.exports.useState(0),tn=te(Ee,2),Ne=tn[0],sn=tn[1],rn=ce!==void 0?ce:o!=="combobox",on=t.exports.useCallback(function(b,m){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=d.source,H=I===void 0?"keyboard":I;sn(m),c&&o==="combobox"&&b!==null&&H==="keyboard"&&Je(String(b))},[c,o]),Ge=function(m,d){var I=function(){var Ve,Le=be(m);return[x?{label:Le==null?void 0:Le[K.label],value:m,key:(Ve=Le==null?void 0:Le.key)!==null&&Ve!==void 0?Ve:m}:m,mn(Le)]};if(d&&s){var H=I(),Y=te(H,2),$e=Y[0],Te=Y[1];s($e,Te)}else if(!d&&y){var Xe=I(),ie=te(Xe,2),_e=ie[0],dn=ie[1];y(_e,dn)}},Qe=Tn(function(b,m){var d,I=me?m.selected:!0;I?d=me?[].concat(ye(Q),[b]):[b]:d=Q.filter(function(H){return H.value!==b}),je(d),Ge(b,I),o==="combobox"?Je(""):(!gn||f)&&($(""),Je(""))}),ae=function(m,d){je(m),(d.type==="remove"||d.type==="clear")&&d.values.forEach(function(I){Ge(I.value,!1)})},un=function(m,d){if($(m),Je(null),d.source==="submit"){var I=(m||"").trim();if(I){var H=Array.from(new Set([].concat(ye(ke),[I])));je(H),Ge(I,!0),$("")}return}d.source!=="blur"&&(o==="combobox"&&je(m),g==null||g(m))},Ke=function(m){var d=m;o!=="tags"&&(d=m.map(function(H){var Y=Z.get(H);return Y==null?void 0:Y.value}).filter(function(H){return H!==void 0}));var I=Array.from(new Set([].concat(ye(ke),ye(d))));je(I),I.forEach(function(H){Ge(H,!0)})},De=t.exports.useMemo(function(){var b=L!==!1&&U!==!1;return q(q({},T),{},{flattenOptions:Pe,onActiveValue:on,defaultActiveFirstOption:rn,onSelect:Qe,menuItemSelectedIcon:P,rawValues:ke,fieldNames:K,virtual:b,listHeight:z,listItemHeight:N,childrenAsData:se})},[T,Pe,on,rn,Qe,P,ke,K,L,U,z,N,se]);return t.exports.createElement(Un.Provider,{value:De},t.exports.createElement(Lt,Ue({},j,{id:k,prefixCls:r,ref:e,omitDomProps:Qt,mode:o,displayValues:Ie,onDisplayValuesChange:ae,searchValue:E,onSearch:un,onSearchSplit:Ke,dropdownMatchSelectWidth:U,OptionList:zn,emptyOptions:!Pe.length,activeValue:nn,activeDescendantId:"".concat(k,"_list_").concat(Ne)})))}),jn=Zt;jn.Option=Hn;jn.OptGroup=Bn;export{Hn as O,jn as T,Bn as a};
