import{n as m}from"./micromark-util-normalize-identifier.d8c35b62.js";import{t as h,s as g,a as F,i as C,c as D}from"./mdast-util-to-markdown.baf38fd2.js";function p(){return{enter:{gfmFootnoteDefinition:a,gfmFootnoteDefinitionLabelString:s,gfmFootnoteCall:c,gfmFootnoteCallString:n},exit:{gfmFootnoteDefinition:i,gfmFootnoteDefinitionLabelString:l,gfmFootnoteCall:t,gfmFootnoteCallString:f}};function a(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function s(){this.buffer()}function l(e){const r=this.resume(),o=this.stack[this.stack.length-1];o.label=r,o.identifier=m(this.sliceSerialize(e)).toLowerCase()}function i(e){this.exit(e)}function c(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function n(){this.buffer()}function f(e){const r=this.resume(),o=this.stack[this.stack.length-1];o.label=r,o.identifier=m(this.sliceSerialize(e)).toLowerCase()}function t(e){this.exit(e)}}function x(){return a.peek=s,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:l,footnoteReference:a}};function a(i,c,n,f){const t=h(f);let e=t.move("[^");const r=n.enter("footnoteReference"),o=n.enter("reference");return e+=t.move(g(n,F(i),{...t.current(),before:e,after:"]"})),o(),r(),e+=t.move("]"),e}function s(){return"["}function l(i,c,n,f){const t=h(f);let e=t.move("[^");const r=n.enter("footnoteDefinition"),o=n.enter("label");return e+=t.move(g(n,F(i),{...t.current(),before:e,after:"]"})),o(),e+=t.move("]:"+(i.children&&i.children.length>0?" ":"")),t.shift(4),e+=t.move(C(D(i,n,t.current()),b)),r(),e;function b(u,d,k){return d?(k?"":"    ")+u:u}}}export{x as a,p as g};
