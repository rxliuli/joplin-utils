var y=Object.defineProperty;var m=(e,t,r)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var p=(e,t,r)=>(m(e,typeof t!="symbol"?t+"":t,r),r);import{g as v}from"./array.c1e23abd.js";var b=Object.defineProperty,w=(e,t,r)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t,r)=>(w(e,typeof t!="symbol"?t+"":t,r),r),B=(e=>(e.Xlsx="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",e.Zip="application/zip",e.Pdf="application/pdf",e))(B||{}),s=class{static dataURItoBlob(e){let t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),a=new Uint8Array(n);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return new Blob([n],{type:r})}static blobToFile(e,t){let r=e;return r.lastModifiedDate=new Date,r.name=t,e}static arrayBufferToBlob(e,t){return new Blob([new Uint8Array(e).buffer],t)}static initLookup(){let e=new Uint8Array(256);for(let t=0;t<s.chars.length;t++)e[s.chars.charCodeAt(t)]=t;return e}static arrayBufferToBase64(e){let t=new Uint8Array(e),r,n=t.length,a="";for(r=0;r<n;r+=3)a+=s.chars[t[r]>>2],a+=s.chars[(t[r]&3)<<4|t[r+1]>>4],a+=s.chars[(t[r+1]&15)<<2|t[r+2]>>6],a+=s.chars[t[r+2]&63];return n%3===2?a=a.substring(0,a.length-1)+"=":n%3===1&&(a=a.substring(0,a.length-2)+"=="),a}static base64ToArrayBuffer(e){let t=e.length*.75,r=e.length,n,a=0,o,c,l,g;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);let d=new ArrayBuffer(t),f=new Uint8Array(d);for(n=0;n<r;n+=4)o=s.lookup[e.charCodeAt(n)],c=s.lookup[e.charCodeAt(n+1)],l=s.lookup[e.charCodeAt(n+2)],g=s.lookup[e.charCodeAt(n+3)],f[a++]=o<<2|c>>4,f[a++]=(c&15)<<4|l>>2,f[a++]=(l&3)<<6|g&63;return d}static arrayBufferToString(e){return new Promise((t,r)=>{let n=new Blob([e]),a=new FileReader;a.addEventListener("load",()=>t(a.result)),a.addEventListener("error",r),a.readAsText(n,"utf-8")})}static async arrayBufferToJson(e){return JSON.parse(await this.arrayBufferToString(e))}},h=s;u(h,"chars","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),u(h,"lookup",s.initLookup()),u(h,"ArrayBufferToJson",s.arrayBufferToJson);var i=class{static add(e,t,r,n){i.listenerMap.has(e)||i.listenerMap.set(e,[]),i.listenerMap.get(e).push({type:t,listener:r,options:n}),e.addEventListener(t,r,n)}static remove(e,t,r,n){e.removeEventListener(t,r,n),i.listenerMap.set(e,(i.listenerMap.get(e)||[]).filter(a=>a.type!==t||a.listener!==r||a.options!==n))}static removeByType(e,t,r){let n=i.listenerMap.get(e);if(n===void 0)return[];let a=v(n,l=>t===l.type&&r===l.options),o=a.get(!0)||[],c=a.get(!0)||[];return i.listenerMap.set(e,c),o.map(l=>(e.removeEventListener(l.type,l.listener,l.options),l))}},A=i;u(A,"listenerMap",new Map);var I=class{constructor(e){p(this,"clear",()=>{this.storage.clear()});p(this,"getItem",e=>this.storage.getItem(e));p(this,"key",e=>this.storage.key(e));p(this,"removeItem",e=>{this.storage.removeItem(e)});p(this,"setItem",(e,t)=>{this.storage.setItem(e,t)});this.storage=e}get length(){return this.storage.length}};function M(e){let t=new Set(["storage","length","clear","getItem","setItem","removeItem","key"]);return new Proxy(new I(e),{get(r,n,a){if(t.has(n))return Reflect.get(r,n,a);try{return JSON.parse(r.getItem(n.toString()))}catch{return null}},set(r,n,a,o){return t.has(n)?Reflect.set(r,n,o):(r.setItem(n.toString(),a!=null?JSON.stringify(a):a),!0)}})}async function C(e,t=e.substr(e.lastIndexOf("/")+1)){let r=document.createElement("a");r.download=t,r.style.display="none",r.href=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}export{M as B,C as T};
