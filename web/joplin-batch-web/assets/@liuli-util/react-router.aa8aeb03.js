import{c as i}from"../history.c39af881.js";import{r as l,R as r}from"../react.bcb0ff15.js";import{t as s}from"./tree.28f56635.js";import{R as m,a as u,b as p}from"../react-router.ab39842d.js";var f=({history:t,children:n})=>{let[e,o]=r.useState({action:t.action,location:t.location});return r.useLayoutEffect(()=>{t.listen(o)},[t]),r.createElement(u,Object.assign({children:n,navigator:t},e))};function h(t){return typeof t=="function"&&/\(.*\)[ \n]*=>[ \n]*import(.+)/.test(t.toString())}var S=t=>{let n=l.exports.useMemo(()=>{var e;return(e=t.fallback)!=null?e:"..."},[t]);return r.createElement(f,{history:t.history},r.createElement(m,null,s(t.routes,(e,o)=>r.createElement(p,{key:o.join(","),path:e.path,element:e.component&&(h(e.component)?r.createElement(r.Suspense,{fallback:n},r.createElement(r.lazy(e.component))):r.createElement(e.component)),children:e.children}),{id:"path",children:"children"})))};function y(t){let n=new URLSearchParams;return Object.entries(t).forEach(([e,o])=>{Array.isArray(o)?o.forEach(c=>n.append(e,c)):n.set(e,o)}),n.toString()}function E(t){return new Proxy(t,{get(n,e,o){let c=Reflect.get(n,e,o);return e!=="push"&&e!=="replace"?c:a=>{c(typeof a=="string"?a:a.pathname+(a.query?"?"+y(a.query):""))}}})}function j(){return E(i())}export{S as C,j as w};
