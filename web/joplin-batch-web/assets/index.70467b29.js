import{u as g,r as e,x as r,y as l,z as f,B as i}from"./index.f1f5c4e7.js";import{F as s}from"./index.9f42643a.js";import{C as x}from"./index.36ffe889.js";import{I as m}from"./index.1922bd85.js";import{B as b}from"./button.0bd9609f.js";import"./row.a3185991.js";import"./TextArea.7d7e2c6d.js";import"./EyeOutlined.36dd0498.js";const w=()=>{var n;const[a]=s.useForm();async function c(){if(!await a.validateFields())return;const o=a.getFieldsValue();console.log("onFinish: ",o);try{l.token=o.token,l.baseUrl=o.baseUrl,await f.list({limit:1}),u(o),i.success(r.t("settings.msg.success"))}catch(p){console.error(p),i.error(r.t("settings.msg.error"))}}const[t,u]=g("settings");return e.exports.createElement(x,null,e.exports.createElement("h2",null,r.t("settings.title")),e.exports.createElement(s,{form:a,onFinish:c,initialValues:{token:t==null?void 0:t.token,baseUrl:(n=t==null?void 0:t.baseUrl)!=null?n:"http://localhost:41184"}},e.exports.createElement(s.Item,{name:"baseUrl",label:r.t("settings.form.baseUrl"),rules:[{required:!0}]},e.exports.createElement(m,{type:"url"})),e.exports.createElement(s.Item,{name:"token",label:r.t("settings.form.token"),rules:[{required:!0}]},e.exports.createElement(m.Password,null)),e.exports.createElement(s.Item,null,e.exports.createElement(b,{type:"primary",htmlType:"submit"},r.t("settings.action.submit")))))};export{w as default};
