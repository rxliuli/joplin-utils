import{d as O,b as Ee,e as ie,a as _,c as g,j as Qe,_ as Le}from"./@babel/runtime.77033aed.js";import{r as t,R as et}from"./react.bcb0ff15.js";import{c as z}from"./classnames.fcae7549.js";import{e as pe,K as X,D as Dt,b as tt}from"./rc-util.9e22709c.js";import{C as Kt}from"./rc-motion.4d67ed75.js";import{R as at}from"./rc-resize-observer.ce41be3e.js";import{E as $t,M as Ht}from"./rc-menu.36873b05.js";import{D as Ot}from"./rc-dropdown.ef01eb3e.js";const Te=t.exports.createContext(null);var dt=t.exports.forwardRef(function(e,r){var o=e.prefixCls,i=e.className,a=e.style,n=e.id,s=e.active,c=e.tabKey,l=e.children;return t.exports.createElement("div",{id:n&&"".concat(n,"-panel-").concat(c),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":n&&"".concat(n,"-tab-").concat(c),"aria-hidden":!s,style:a,className:z(o,s&&"".concat(o,"-active"),i),ref:r},l)}),Ft=["key","forceRender","style","className"];function Vt(e){var r=e.id,o=e.activeKey,i=e.animated,a=e.tabPosition,n=e.destroyInactiveTabPane,s=t.exports.useContext(Te),c=s.prefixCls,l=s.tabs,b=i.tabPane,h="".concat(c,"-tabpane");return t.exports.createElement("div",{className:z("".concat(c,"-content-holder"))},t.exports.createElement("div",{className:z("".concat(c,"-content"),"".concat(c,"-content-").concat(a),O({},"".concat(c,"-content-animated"),b))},l.map(function(f){var k=f.key,K=f.forceRender,y=f.style,w=f.className,M=Ee(f,Ft),B=k===o;return t.exports.createElement(Kt,ie({key:k,visible:B,forceRender:K,removeOnLeave:!!n,leavedClassName:"".concat(h,"-hidden")},i.tabPaneMotion),function(D,N){var S=D.style,I=D.className;return t.exports.createElement(dt,ie({},M,{prefixCls:h,id:r,tabKey:k,animated:b,active:B,style:_(_({},y),S),className:z(w,I),ref:N}))})})))}function ft(e){var r=t.exports.useRef(),o=t.exports.useRef(!1);function i(){for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];o.current||(pe.cancel(r.current),r.current=pe(function(){e.apply(void 0,n)}))}return t.exports.useEffect(function(){return o.current=!1,function(){o.current=!0,pe.cancel(r.current)}},[]),i}function jt(e){var r=t.exports.useRef([]),o=t.exports.useState({}),i=g(o,2),a=i[1],n=t.exports.useRef(typeof e=="function"?e():e),s=ft(function(){var l=n.current;r.current.forEach(function(b){l=b(l)}),r.current=[],n.current=l,a({})});function c(l){r.current.push(l),s()}return[n.current,c]}function Gt(e,r){var o,i=e.prefixCls,a=e.id,n=e.active,s=e.tab,c=s.key,l=s.label,b=s.disabled,h=s.closeIcon,f=e.closable,k=e.renderWrapper,K=e.removeAriaLabel,y=e.editable,w=e.onClick,M=e.onRemove,B=e.onFocus,D=e.style,N="".concat(i,"-tab");t.exports.useEffect(function(){return M},[]);var S=y&&f!==!1&&!b;function I(E){b||w(E)}function $(E){E.preventDefault(),E.stopPropagation(),y.onEdit("remove",{key:c,event:E})}var H=t.exports.createElement("div",{key:c,ref:r,className:z(N,(o={},O(o,"".concat(N,"-with-remove"),S),O(o,"".concat(N,"-active"),n),O(o,"".concat(N,"-disabled"),b),o)),style:D,onClick:I},t.exports.createElement("div",{role:"tab","aria-selected":n,id:a&&"".concat(a,"-tab-").concat(c),className:"".concat(N,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(c),"aria-disabled":b,tabIndex:b?null:0,onClick:function(u){u.stopPropagation(),I(u)},onKeyDown:function(u){[X.SPACE,X.ENTER].includes(u.which)&&(u.preventDefault(),I(u))},onFocus:B},l),S&&t.exports.createElement("button",{type:"button","aria-label":K||"remove",tabIndex:0,className:"".concat(N,"-remove"),onClick:function(u){u.stopPropagation(),$(u)}},h||y.removeIcon||"\xD7"));return k?k(H):H}const _t=t.exports.forwardRef(Gt);var nt={width:0,height:0,left:0,top:0};function zt(e,r,o){return t.exports.useMemo(function(){for(var i,a=new Map,n=r.get((i=e[0])===null||i===void 0?void 0:i.key)||nt,s=n.left+n.width,c=0;c<e.length;c+=1){var l=e[c].key,b=r.get(l);if(!b){var h;b=r.get((h=e[c-1])===null||h===void 0?void 0:h.key)||nt}var f=a.get(l)||_({},b);f.right=s-f.left-f.width,a.set(l,f)}return a},[e.map(function(i){return i.key}).join("_"),r,o])}var rt={width:0,height:0,left:0,top:0,right:0};function Ut(e,r,o,i,a){var n=a.tabs,s=a.tabPosition,c=a.rtl,l,b,h;["top","bottom"].includes(s)?(l="width",b=c?"right":"left",h=Math.abs(r.left)):(l="height",b="top",h=-r.top);var f=r[l],k=o[l],K=i[l],y=f;return k+K>f&&k<f&&(y=f-K),t.exports.useMemo(function(){if(!n.length)return[0,0];for(var w=n.length,M=w,B=0;B<w;B+=1){var D=e.get(n[B].key)||rt;if(D[b]+D[l]>h+y){M=B-1;break}}for(var N=0,S=w-1;S>=0;S-=1){var I=e.get(n[S].key)||rt;if(I[b]<h){N=S+1;break}}return[N,M]},[e,h,y,s,n.map(function(w){return w.key}).join("_"),c])}function Xt(e,r){var o=e.prefixCls,i=e.editable,a=e.locale,n=e.style;return!i||i.showAdd===!1?null:t.exports.createElement("button",{ref:r,type:"button",className:"".concat(o,"-nav-add"),style:n,"aria-label":(a==null?void 0:a.addAriaLabel)||"Add tab",onClick:function(c){i.onEdit("add",{event:c})}},i.addIcon||"+")}const vt=t.exports.forwardRef(Xt);function Yt(e,r){var o=e.prefixCls,i=e.id,a=e.tabs,n=e.locale,s=e.mobile,c=e.moreIcon,l=c===void 0?"More":c,b=e.moreTransitionName,h=e.style,f=e.className,k=e.editable,K=e.tabBarGutter,y=e.rtl,w=e.removeAriaLabel,M=e.onTabClick,B=e.getPopupContainer,D=e.popupClassName,N=t.exports.useState(!1),S=g(N,2),I=S[0],$=S[1],H=t.exports.useState(null),E=g(H,2),u=E[0],T=E[1],P="".concat(i,"-more-popup"),v="".concat(o,"-dropdown"),p=u!==null?"".concat(P,"-").concat(u):null,W=n==null?void 0:n.dropdownAriaLabel;function A(d,C){d.preventDefault(),d.stopPropagation(),k.onEdit("remove",{key:C,event:d})}var Q=t.exports.createElement($t,{onClick:function(C){var U=C.key,V=C.domEvent;M(U,V),$(!1)},prefixCls:"".concat(v,"-menu"),id:P,tabIndex:-1,role:"listbox","aria-activedescendant":p,selectedKeys:[u],"aria-label":W!==void 0?W:"expanded dropdown"},a.map(function(d){var C=k&&d.closable!==!1&&!d.disabled;return t.exports.createElement(Ht,{key:d.key,id:"".concat(P,"-").concat(d.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(d.key),disabled:d.disabled},t.exports.createElement("span",null,d.label),C&&t.exports.createElement("button",{type:"button","aria-label":w||"remove",tabIndex:0,className:"".concat(v,"-menu-item-remove"),onClick:function(V){V.stopPropagation(),A(V,d.key)}},d.closeIcon||k.removeIcon||"\xD7"))}));function ee(d){for(var C=a.filter(function(ne){return!ne.disabled}),U=C.findIndex(function(ne){return ne.key===u})||0,V=C.length,Z=0;Z<V;Z+=1){U=(U+d+V)%V;var Y=C[U];if(!Y.disabled){T(Y.key);return}}}function te(d){var C=d.which;if(!I){[X.DOWN,X.SPACE,X.ENTER].includes(C)&&($(!0),d.preventDefault());return}switch(C){case X.UP:ee(-1),d.preventDefault();break;case X.DOWN:ee(1),d.preventDefault();break;case X.ESC:$(!1);break;case X.SPACE:case X.ENTER:u!==null&&M(u,d);break}}t.exports.useEffect(function(){var d=document.getElementById(p);d&&d.scrollIntoView&&d.scrollIntoView(!1)},[u]),t.exports.useEffect(function(){I||T(null)},[I]);var F=O({},y?"marginRight":"marginLeft",K);a.length||(F.visibility="hidden",F.order=1);var ae=z(O({},"".concat(v,"-rtl"),y)),se=s?null:t.exports.createElement(Ot,{prefixCls:v,overlay:Q,trigger:["hover"],visible:a.length?I:!1,transitionName:b,onVisibleChange:$,overlayClassName:z(ae,D),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:B},t.exports.createElement("button",{type:"button",className:"".concat(o,"-nav-more"),style:F,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":P,id:"".concat(i,"-more"),"aria-expanded":I,onKeyDown:te},l));return t.exports.createElement("div",{className:z("".concat(o,"-nav-operations"),f),style:h,ref:r},se,t.exports.createElement(vt,{prefixCls:o,locale:n,editable:k}))}const Zt=t.exports.memo(t.exports.forwardRef(Yt),function(e,r){return r.tabMoving});var qt=.1,ot=.01,Ce=20,it=Math.pow(.995,Ce);function Jt(e,r){var o=t.exports.useState(),i=g(o,2),a=i[0],n=i[1],s=t.exports.useState(0),c=g(s,2),l=c[0],b=c[1],h=t.exports.useState(0),f=g(h,2),k=f[0],K=f[1],y=t.exports.useState(),w=g(y,2),M=w[0],B=w[1],D=t.exports.useRef();function N(u){var T=u.touches[0],P=T.screenX,v=T.screenY;n({x:P,y:v}),window.clearInterval(D.current)}function S(u){if(!!a){u.preventDefault();var T=u.touches[0],P=T.screenX,v=T.screenY;n({x:P,y:v});var p=P-a.x,W=v-a.y;r(p,W);var A=Date.now();b(A),K(A-l),B({x:p,y:W})}}function I(){if(!!a&&(n(null),B(null),M)){var u=M.x/k,T=M.y/k,P=Math.abs(u),v=Math.abs(T);if(Math.max(P,v)<qt)return;var p=u,W=T;D.current=window.setInterval(function(){if(Math.abs(p)<ot&&Math.abs(W)<ot){window.clearInterval(D.current);return}p*=it,W*=it,r(p*Ce,W*Ce)},Ce)}}var $=t.exports.useRef();function H(u){var T=u.deltaX,P=u.deltaY,v=0,p=Math.abs(T),W=Math.abs(P);p===W?v=$.current==="x"?T:P:p>W?(v=T,$.current="x"):(v=P,$.current="y"),r(-v,-v)&&u.preventDefault()}var E=t.exports.useRef(null);E.current={onTouchStart:N,onTouchMove:S,onTouchEnd:I,onWheel:H},t.exports.useEffect(function(){function u(p){E.current.onTouchStart(p)}function T(p){E.current.onTouchMove(p)}function P(p){E.current.onTouchEnd(p)}function v(p){E.current.onWheel(p)}return document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("touchend",P,{passive:!1}),e.current.addEventListener("touchstart",u,{passive:!1}),e.current.addEventListener("wheel",v),function(){document.removeEventListener("touchmove",T),document.removeEventListener("touchend",P)}},[])}function Qt(){var e=t.exports.useRef(new Map);function r(i){return e.current.has(i)||e.current.set(i,t.exports.createRef()),e.current.get(i)}function o(i){e.current.delete(i)}return[r,o]}function st(e,r){var o=t.exports.useRef(e),i=t.exports.useState({}),a=g(i,2),n=a[1];function s(c){var l=typeof c=="function"?c(o.current):c;l!==o.current&&r(l,o.current),o.current=l,n({})}return[o.current,s]}var ct=function(r){var o=r.position,i=r.prefixCls,a=r.extra;if(!a)return null;var n,s={};return a&&Le(a)==="object"&&!t.exports.isValidElement(a)?s=a:s.right=a,o==="right"&&(n=s.right),o==="left"&&(n=s.left),n?t.exports.createElement("div",{className:"".concat(i,"-extra-content")},n):null};function ea(e,r){var o,i=t.exports.useContext(Te),a=i.prefixCls,n=i.tabs,s=e.className,c=e.style,l=e.id,b=e.animated,h=e.activeKey,f=e.rtl,k=e.extra,K=e.editable,y=e.locale,w=e.tabPosition,M=e.tabBarGutter,B=e.children,D=e.onTabClick,N=e.onTabScroll,S=t.exports.useRef(),I=t.exports.useRef(),$=t.exports.useRef(),H=t.exports.useRef(),E=Qt(),u=g(E,2),T=u[0],P=u[1],v=w==="top"||w==="bottom",p=st(0,function(x,m){v&&N&&N({direction:x>m?"left":"right"})}),W=g(p,2),A=W[0],Q=W[1],ee=st(0,function(x,m){!v&&N&&N({direction:x>m?"top":"bottom"})}),te=g(ee,2),F=te[0],ae=te[1],se=t.exports.useState(0),d=g(se,2),C=d[0],U=d[1],V=t.exports.useState(0),Z=g(V,2),Y=Z[0],ne=Z[1],me=t.exports.useState(null),be=g(me,2),j=be[0],Re=be[1],xe=t.exports.useState(null),he=g(xe,2),q=he[0],R=he[1],re=t.exports.useState(0),ce=g(re,2),pt=ce[0],mt=ce[1],bt=t.exports.useState(0),Be=g(bt,2),xt=Be[0],ht=Be[1],yt=jt(new Map),We=g(yt,2),gt=We[0],St=We[1],ye=zt(n,gt,C),Ct="".concat(a,"-nav-operations-hidden"),le=0,ue=0;v?f?(le=0,ue=Math.max(0,C-j)):(le=Math.min(0,j-C),ue=0):(le=Math.min(0,q-Y),ue=0);function ke(x){return x<le?le:x>ue?ue:x}var De=t.exports.useRef(),Et=t.exports.useState(),Ke=g(Et,2),ge=Ke[0],$e=Ke[1];function Ne(){$e(Date.now())}function Pe(){window.clearTimeout(De.current)}Jt(S,function(x,m){function L(G,oe){G(function(fe){var Ae=ke(fe+oe);return Ae})}if(v){if(j>=C)return!1;L(Q,x)}else{if(q>=Y)return!1;L(ae,m)}return Pe(),Ne(),!0}),t.exports.useEffect(function(){return Pe(),ge&&(De.current=window.setTimeout(function(){$e(0)},100)),Pe},[ge]);function He(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,m=ye.get(x)||{width:0,height:0,left:0,right:0,top:0};if(v){var L=A;f?m.right<A?L=m.right:m.right+m.width>A+j&&(L=m.right+m.width-j):m.left<-A?L=-m.left:m.left+m.width>-A+j&&(L=-(m.left+m.width-j)),ae(0),Q(ke(L))}else{var G=F;m.top<-F?G=-m.top:m.top+m.height>-F+q&&(G=-(m.top+m.height-q)),Q(0),ae(ke(G))}}var Tt=Ut(ye,{width:j,height:q,left:A,top:F},{width:C,height:Y},{width:pt,height:xt},_(_({},e),{},{tabs:n})),Oe=g(Tt,2),Rt=Oe[0],kt=Oe[1],Se={};w==="top"||w==="bottom"?Se[f?"marginRight":"marginLeft"]=M:Se.marginTop=M;var Fe=n.map(function(x,m){var L=x.key;return t.exports.createElement(_t,{id:l,prefixCls:a,key:L,tab:x,style:m===0?void 0:Se,closable:x.closable,editable:K,active:L===h,renderWrapper:B,removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:T(L),onClick:function(oe){D(L,oe)},onRemove:function(){P(L)},onFocus:function(){He(L),Ne(),S.current&&(f||(S.current.scrollLeft=0),S.current.scrollTop=0)}})}),we=ft(function(){var x,m,L,G,oe,fe,Ae=((x=S.current)===null||x===void 0?void 0:x.offsetWidth)||0,At=((m=S.current)===null||m===void 0?void 0:m.offsetHeight)||0,Ye=((L=H.current)===null||L===void 0?void 0:L.offsetWidth)||0,Ze=((G=H.current)===null||G===void 0?void 0:G.offsetHeight)||0;Re(Ae),R(At),mt(Ye),ht(Ze);var Lt=(((oe=I.current)===null||oe===void 0?void 0:oe.offsetWidth)||0)-Ye,Bt=(((fe=I.current)===null||fe===void 0?void 0:fe.offsetHeight)||0)-Ze;U(Lt),ne(Bt),St(function(){var qe=new Map;return n.forEach(function(Wt){var Je=Wt.key,ve=T(Je).current;ve&&qe.set(Je,{width:ve.offsetWidth,height:ve.offsetHeight,left:ve.offsetLeft,top:ve.offsetTop})}),qe})}),Nt=n.slice(0,Rt),Pt=n.slice(kt+1),Ve=[].concat(Qe(Nt),Qe(Pt)),wt=t.exports.useState(),je=g(wt,2),It=je[0],Mt=je[1],J=ye.get(h),Ge=t.exports.useRef();function _e(){pe.cancel(Ge.current)}t.exports.useEffect(function(){var x={};return J&&(v?(f?x.right=J.right:x.left=J.left,x.width=J.width):(x.top=J.top,x.height=J.height)),_e(),Ge.current=pe(function(){Mt(x)}),_e},[J,v,f]),t.exports.useEffect(function(){He()},[h,J,ye,v]),t.exports.useEffect(function(){we()},[f,M,h,n.map(function(x){return x.key}).join("_")]);var ze=!!Ve.length,de="".concat(a,"-nav-wrap"),Ie,Me,Ue,Xe;return v?f?(Me=A>0,Ie=A+j<C):(Ie=A<0,Me=-A+j<C):(Ue=F<0,Xe=-F+q<Y),t.exports.createElement("div",{ref:r,role:"tablist",className:z("".concat(a,"-nav"),s),style:c,onKeyDown:function(){Ne()}},t.exports.createElement(ct,{position:"left",extra:k,prefixCls:a}),t.exports.createElement(at,{onResize:we},t.exports.createElement("div",{className:z(de,(o={},O(o,"".concat(de,"-ping-left"),Ie),O(o,"".concat(de,"-ping-right"),Me),O(o,"".concat(de,"-ping-top"),Ue),O(o,"".concat(de,"-ping-bottom"),Xe),o)),ref:S},t.exports.createElement(at,{onResize:we},t.exports.createElement("div",{ref:I,className:"".concat(a,"-nav-list"),style:{transform:"translate(".concat(A,"px, ").concat(F,"px)"),transition:ge?"none":void 0}},Fe,t.exports.createElement(vt,{ref:H,prefixCls:a,locale:y,editable:K,style:_(_({},Fe.length===0?void 0:Se),{},{visibility:ze?"hidden":null})}),t.exports.createElement("div",{className:z("".concat(a,"-ink-bar"),O({},"".concat(a,"-ink-bar-animated"),b.inkBar)),style:It}))))),t.exports.createElement(Zt,ie({},e,{removeAriaLabel:y==null?void 0:y.removeAriaLabel,ref:$,prefixCls:a,tabs:Ve,className:!ze&&Ct,tabMoving:!!ge})),t.exports.createElement(ct,{position:"right",extra:k,prefixCls:a}))}const lt=t.exports.forwardRef(ea);var ta=["renderTabBar"],aa=["label","key"];function na(e){var r=e.renderTabBar,o=Ee(e,ta),i=t.exports.useContext(Te),a=i.tabs;if(r){var n=_(_({},o),{},{panes:a.map(function(s){var c=s.label,l=s.key,b=Ee(s,aa);return et.createElement(dt,ie({tab:c,key:l,tabKey:l},b))})});return r(n,lt)}return et.createElement(lt,o)}function ra(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},r;return e===!1?r={inkBar:!1,tabPane:!1}:e===!0?r={inkBar:!0,tabPane:!1}:r=_({inkBar:!0},Le(e)==="object"?e:{}),r.tabPaneMotion&&r.tabPane===void 0&&(r.tabPane=!0),!r.tabPaneMotion&&r.tabPane&&(r.tabPane=!1),r}var oa=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],ut=0;function ia(e,r){var o,i=e.id,a=e.prefixCls,n=a===void 0?"rc-tabs":a,s=e.className,c=e.items,l=e.direction,b=e.activeKey,h=e.defaultActiveKey,f=e.editable,k=e.animated,K=e.tabPosition,y=K===void 0?"top":K,w=e.tabBarGutter,M=e.tabBarStyle,B=e.tabBarExtraContent,D=e.locale,N=e.moreIcon,S=e.moreTransitionName,I=e.destroyInactiveTabPane,$=e.renderTabBar,H=e.onChange,E=e.onTabClick,u=e.onTabScroll,T=e.getPopupContainer,P=e.popupClassName,v=Ee(e,oa),p=t.exports.useMemo(function(){return(c||[]).filter(function(R){return R&&Le(R)==="object"&&"key"in R})},[c]),W=l==="rtl",A=ra(k),Q=t.exports.useState(!1),ee=g(Q,2),te=ee[0],F=ee[1];t.exports.useEffect(function(){F(Dt())},[]);var ae=tt(function(){var R;return(R=p[0])===null||R===void 0?void 0:R.key},{value:b,defaultValue:h}),se=g(ae,2),d=se[0],C=se[1],U=t.exports.useState(function(){return p.findIndex(function(R){return R.key===d})}),V=g(U,2),Z=V[0],Y=V[1];t.exports.useEffect(function(){var R=p.findIndex(function(ce){return ce.key===d});if(R===-1){var re;R=Math.max(0,Math.min(Z,p.length-1)),C((re=p[R])===null||re===void 0?void 0:re.key)}Y(R)},[p.map(function(R){return R.key}).join("_"),d,Z]);var ne=tt(null,{value:i}),me=g(ne,2),be=me[0],j=me[1];t.exports.useEffect(function(){i||(j("rc-tabs-".concat(ut)),ut+=1)},[]);function Re(R,re){E==null||E(R,re);var ce=R!==d;C(R),ce&&(H==null||H(R))}var xe={id:be,activeKey:d,animated:A,tabPosition:y,rtl:W,mobile:te},he,q=_(_({},xe),{},{editable:f,locale:D,moreIcon:N,moreTransitionName:S,tabBarGutter:w,onTabClick:Re,onTabScroll:u,extra:B,style:M,panes:null,getPopupContainer:T,popupClassName:P});return t.exports.createElement(Te.Provider,{value:{tabs:p,prefixCls:n}},t.exports.createElement("div",ie({ref:r,id:i,className:z(n,"".concat(n,"-").concat(y),(o={},O(o,"".concat(n,"-mobile"),te),O(o,"".concat(n,"-editable"),f),O(o,"".concat(n,"-rtl"),W),o),s)},v),he,t.exports.createElement(na,ie({},q,{renderTabBar:$})),t.exports.createElement(Vt,ie({destroyInactiveTabPane:I},xe,{animated:A}))))}var ma=t.exports.forwardRef(ia);export{ma as F};
