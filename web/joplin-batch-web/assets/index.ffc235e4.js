/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var At=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};function bn(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?vn(n.position):"start"in n||"end"in n?vn(n):"line"in n||"column"in n?jn(n):""}function jn(n){return nt(n&&n.line)+":"+nt(n&&n.column)}function vn(n){return jn(n&&n.start)+"-"+jn(n&&n.end)}function nt(n){return n&&typeof n=="number"?n:1}class X extends Error{constructor(e,t,r){const i=[null,null];let u={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const l=r.indexOf(":");l===-1?i[1]=r:(i[0]=r.slice(0,l),i[1]=r.slice(l+1))}t&&("type"in t||"position"in t?t.position&&(u=t.position):"start"in t||"end"in t?u=t:("line"in t||"column"in t)&&(u.start=t)),this.name=bn(t)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=u.start.line,this.column=u.start.column,this.source=i[0],this.ruleId=i[1],this.position=u,this.actual,this.expected,this.file,this.url,this.note}}X.prototype.file="";X.prototype.name="";X.prototype.reason="";X.prototype.message="";X.prototype.stack="";X.prototype.fatal=null;X.prototype.column=null;X.prototype.line=null;X.prototype.source=null;X.prototype.ruleId=null;X.prototype.position=null;const rn={basename:vt,dirname:ne,extname:te,join:ee,sep:"/"};function vt(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Sn(n);let t=0,r=-1,i=n.length,u;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.charCodeAt(i)===47){if(u){t=i+1;break}}else r<0&&(u=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let l=-1,a=e.length-1;for(;i--;)if(n.charCodeAt(i)===47){if(u){t=i+1;break}}else l<0&&(u=!0,l=i+1),a>-1&&(n.charCodeAt(i)===e.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=l));return t===r?r=l:r<0&&(r=n.length),n.slice(t,r)}function ne(n){if(Sn(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.charCodeAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.charCodeAt(0)===47?"/":".":e===1&&n.charCodeAt(0)===47?"//":n.slice(0,e)}function te(n){Sn(n);let e=n.length,t=-1,r=0,i=-1,u=0,l;for(;e--;){const a=n.charCodeAt(e);if(a===47){if(l){r=e+1;break}continue}t<0&&(l=!0,t=e+1),a===46?i<0?i=e:u!==1&&(u=1):i>-1&&(u=-1)}return i<0||t<0||u===0||u===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function ee(...n){let e=-1,t;for(;++e<n.length;)Sn(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":re(t)}function re(n){Sn(n);const e=n.charCodeAt(0)===47;let t=ie(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.charCodeAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function ie(n,e){let t="",r=0,i=-1,u=0,l=-1,a,o;for(;++l<=n.length;){if(l<n.length)a=n.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||u===1))if(i!==l-1&&u===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(o=t.lastIndexOf("/"),o!==t.length-1){o<0?(t="",r=0):(t=t.slice(0,o),r=t.length-1-t.lastIndexOf("/")),i=l,u=0;continue}}else if(t.length>0){t="",r=0,i=l,u=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,l):t=n.slice(i+1,l),r=l-i-1;i=l,u=0}else a===46&&u>-1?u++:u=-1}return t}function Sn(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const ue={cwd:le};function le(){return"/"}function Mn(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function ae(n){if(typeof n=="string")n=new URL(n);else if(!Mn(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return oe(n)}function oe(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.charCodeAt(t)===37&&e.charCodeAt(t+1)===50){const r=e.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Tn=["history","path","basename","stem","extname","dirname"];class se{constructor(e){let t;e?typeof e=="string"||At(e)?t={value:e}:Mn(e)?t={path:e}:t=e:t={},this.data={},this.messages=[],this.history=[],this.cwd=ue.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Tn.length;){const u=Tn[r];u in t&&t[u]!==void 0&&(this[u]=u==="history"?[...t[u]]:t[u])}let i;for(i in t)Tn.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(e){Mn(e)&&(e=ae(e)),On(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?rn.dirname(this.path):void 0}set dirname(e){tt(this.basename,"dirname"),this.path=rn.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?rn.basename(this.path):void 0}set basename(e){On(e,"basename"),Pn(e,"basename"),this.path=rn.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?rn.extname(this.path):void 0}set extname(e){if(Pn(e,"extname"),tt(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=rn.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?rn.basename(this.path,this.extname):void 0}set stem(e){On(e,"stem"),Pn(e,"stem"),this.path=rn.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){const i=new X(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=null,i}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}}function Pn(n,e){if(n&&n.includes(rn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+rn.sep+"`")}function On(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function tt(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function et(n){if(n)throw n}var Fn=Object.prototype.hasOwnProperty,It=Object.prototype.toString,rt=Object.defineProperty,it=Object.getOwnPropertyDescriptor,ut=function(e){return typeof Array.isArray=="function"?Array.isArray(e):It.call(e)==="[object Array]"},lt=function(e){if(!e||It.call(e)!=="[object Object]")return!1;var t=Fn.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Fn.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return typeof i>"u"||Fn.call(e,i)},at=function(e,t){rt&&t.name==="__proto__"?rt(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ot=function(e,t){if(t==="__proto__")if(Fn.call(e,t)){if(it)return it(e,t).value}else return;return e[t]},st=function n(){var e,t,r,i,u,l,a=arguments[0],o=1,h=arguments.length,f=!1;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},o=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});o<h;++o)if(e=arguments[o],e!=null)for(t in e)r=ot(a,t),i=ot(e,t),a!==i&&(f&&i&&(lt(i)||(u=ut(i)))?(u?(u=!1,l=r&&ut(r)?r:[]):l=r&&lt(r)?r:{},at(a,{name:t,newValue:n(f,l,i)})):typeof i<"u"&&at(a,{name:t,newValue:i}));return a};function qn(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function ce(){const n=[],e={run:t,use:r};return e;function t(...i){let u=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);a(null,...i);function a(o,...h){const f=n[++u];let p=-1;if(o){l(o);return}for(;++p<i.length;)(h[p]===null||h[p]===void 0)&&(h[p]=i[p]);i=h,f?he(f,a)(...h):l(null,...h)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function he(n,e){let t;return r;function r(...l){const a=n.length>l.length;let o;a&&l.push(i);try{o=n.apply(this,l)}catch(h){const f=h;if(a&&t)throw f;return i(f)}a||(o instanceof Promise?o.then(u,i):o instanceof Error?i(o):u(o))}function i(l,...a){t||(t=!0,e(l,...a))}function u(l){i(null,l)}}const Si=Tt().freeze(),zt={}.hasOwnProperty;function Tt(){const n=ce(),e=[];let t={},r,i=-1;return u.data=l,u.Parser=void 0,u.Compiler=void 0,u.freeze=a,u.attachers=e,u.use=o,u.parse=h,u.stringify=f,u.run=p,u.runSync=y,u.process=g,u.processSync=k,u;function u(){const w=Tt();let E=-1;for(;++E<e.length;)w.use(...e[E]);return w.data(st(!0,{},t)),w}function l(w,E){return typeof w=="string"?arguments.length===2?(_n("data",r),t[w]=E,u):zt.call(t,w)&&t[w]||null:w?(_n("data",r),t=w,u):t}function a(){if(r)return u;for(;++i<e.length;){const[w,...E]=e[i];if(E[0]===!1)continue;E[0]===!0&&(E[0]=void 0);const d=w.call(u,...E);typeof d=="function"&&n.use(d)}return r=!0,i=Number.POSITIVE_INFINITY,u}function o(w,...E){let d;if(_n("use",r),w!=null)if(typeof w=="function")O(w,...E);else if(typeof w=="object")Array.isArray(w)?L(w):S(w);else throw new TypeError("Expected usable value, not `"+w+"`");return d&&(t.settings=Object.assign(t.settings||{},d)),u;function T(x){if(typeof x=="function")O(x);else if(typeof x=="object")if(Array.isArray(x)){const[A,...B]=x;O(A,...B)}else S(x);else throw new TypeError("Expected usable value, not `"+x+"`")}function S(x){L(x.plugins),x.settings&&(d=Object.assign(d||{},x.settings))}function L(x){let A=-1;if(x!=null)if(Array.isArray(x))for(;++A<x.length;){const B=x[A];T(B)}else throw new TypeError("Expected a list of plugins, not `"+x+"`")}function O(x,A){let B=-1,_;for(;++B<e.length;)if(e[B][0]===x){_=e[B];break}_?(qn(_[1])&&qn(A)&&(A=st(!0,_[1],A)),_[1]=A):e.push([...arguments])}}function h(w){u.freeze();const E=kn(w),d=u.Parser;return Bn("parse",d),ct(d,"parse")?new d(String(E),E).parse():d(String(E),E)}function f(w,E){u.freeze();const d=kn(E),T=u.Compiler;return Ln("stringify",T),ht(w),ct(T,"compile")?new T(w,d).compile():T(w,d)}function p(w,E,d){if(ht(w),u.freeze(),!d&&typeof E=="function"&&(d=E,E=void 0),!d)return new Promise(T);T(null,d);function T(S,L){n.run(w,kn(E),O);function O(x,A,B){A=A||w,x?L(x):S?S(A):d(null,A,B)}}}function y(w,E){let d,T;return u.run(w,E,S),ft("runSync","run",T),d;function S(L,O){et(L),d=O,T=!0}}function g(w,E){if(u.freeze(),Bn("process",u.Parser),Ln("process",u.Compiler),!E)return new Promise(d);d(null,E);function d(T,S){const L=kn(w);u.run(u.parse(L),L,(x,A,B)=>{if(x||!A||!B)O(x);else{const _=u.stringify(A,B);_==null||(me(_)?B.value=_:B.result=_),O(x,B)}});function O(x,A){x||!A?S(x):T?T(A):E(null,A)}}}function k(w){let E;u.freeze(),Bn("processSync",u.Parser),Ln("processSync",u.Compiler);const d=kn(w);return u.process(d,T),ft("processSync","process",E),d;function T(S){E=!0,et(S)}}}function ct(n,e){return typeof n=="function"&&n.prototype&&(fe(n.prototype)||e in n.prototype)}function fe(n){let e;for(e in n)if(zt.call(n,e))return!0;return!1}function Bn(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function Ln(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function _n(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ht(n){if(!qn(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function ft(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function kn(n){return pe(n)?n:new se(n)}function pe(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function me(n){return typeof n=="string"||At(n)}function ge(n,e){var{includeImageAlt:t=!0}=e||{};return Pt(n,t)}function Pt(n,e){return n&&typeof n=="object"&&(n.value||(e?n.alt:"")||"children"in n&&pt(n.children,e)||Array.isArray(n)&&pt(n,e))||""}function pt(n,e){for(var t=[],r=-1;++r<n.length;)t[r]=Pt(n[r],e);return t.join("")}function ln(n,e,t,r){const i=n.length;let u=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)l=Array.from(r),l.unshift(e,t),[].splice.apply(n,l);else for(t&&[].splice.apply(n,[e,t]);u<r.length;)l=r.slice(u,u+1e4),l.unshift(e,0),[].splice.apply(n,l),u+=1e4,e+=1e4}function J(n,e){return n.length>0?(ln(n,n.length,0,e),n):e}const mt={}.hasOwnProperty;function xe(n){const e={};let t=-1;for(;++t<n.length;)de(e,n[t]);return e}function de(n,e){let t;for(t in e){const i=(mt.call(n,t)?n[t]:void 0)||(n[t]={}),u=e[t];let l;for(l in u){mt.call(i,l)||(i[l]=[]);const a=u[l];ye(i[l],Array.isArray(a)?a:a?[a]:[])}}}function ye(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);ln(n,0,0,r)}const ke=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,un=sn(/[A-Za-z]/),Vn=sn(/\d/),be=sn(/[\dA-Fa-f]/),nn=sn(/[\dA-Za-z]/),we=sn(/[!-/:-@[-`{-~]/),gt=sn(/[#-'*+\--9=?A-Z^-~]/);function Hn(n){return n!==null&&(n<32||n===127)}function K(n){return n!==null&&(n<0||n===32)}function I(n){return n!==null&&n<-2}function q(n){return n===-2||n===-1||n===32}const Se=sn(/\s/),Fe=sn(ke);function sn(n){return e;function e(t){return t!==null&&n.test(String.fromCharCode(t))}}function R(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let u=0;return l;function l(o){return q(o)?(n.enter(t),a(o)):e(o)}function a(o){return q(o)&&u++<i?(n.consume(o),a):(n.exit(t),e(o))}}const Ee={tokenize:Ce};function Ce(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),R(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),u(a)}function u(a){const o=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=o),t=o,l(a)}function l(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return I(a)?(n.consume(a),n.exit("chunkText"),u):(n.consume(a),l)}}const Ae={tokenize:Ie},xt={tokenize:ze};function Ie(n){const e=this,t=[];let r=0,i,u,l;return a;function a(S){if(r<t.length){const L=t[r];return e.containerState=L[1],n.attempt(L[0].continuation,o,h)(S)}return h(S)}function o(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&T();const L=e.events.length;let O=L,x;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){x=e.events[O][1].end;break}d(r);let A=L;for(;A<e.events.length;)e.events[A][1].end=Object.assign({},x),A++;return ln(e.events,O+1,0,e.events.slice(L)),e.events.length=A,h(S)}return a(S)}function h(S){if(r===t.length){if(!i)return y(S);if(i.currentConstruct&&i.currentConstruct.concrete)return k(S);e.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(xt,f,p)(S)}function f(S){return i&&T(),d(r),y(S)}function p(S){return e.parser.lazy[e.now().line]=r!==t.length,l=e.now().offset,k(S)}function y(S){return e.containerState={},n.attempt(xt,g,k)(S)}function g(S){return r++,t.push([e.currentConstruct,e.containerState]),y(S)}function k(S){if(S===null){i&&T(),d(0),n.consume(S);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{contentType:"flow",previous:u,_tokenizer:i}),w(S)}function w(S){if(S===null){E(n.exit("chunkFlow"),!0),d(0),n.consume(S);return}return I(S)?(n.consume(S),E(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(S),w)}function E(S,L){const O=e.sliceStream(S);if(L&&O.push(null),S.previous=u,u&&(u.next=S),u=S,i.defineSkip(S.start),i.write(O),e.parser.lazy[S.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<l&&(!i.events[x][1].end||i.events[x][1].end.offset>l))return;const A=e.events.length;let B=A,_,N;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(_){N=e.events[B][1].end;break}_=!0}for(d(r),x=A;x<e.events.length;)e.events[x][1].end=Object.assign({},N),x++;ln(e.events,B+1,0,e.events.slice(A)),e.events.length=x}}function d(S){let L=t.length;for(;L-- >S;){const O=t[L];e.containerState=O[1],O[0].exit.call(e,n)}t.length=S}function T(){i.write([null]),u=void 0,i=void 0,e.containerState._closeFlow=void 0}}function ze(n,e,t){return R(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function dt(n){if(n===null||K(n)||Se(n))return 1;if(Fe(n))return 2}function Qn(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const u=n[i].resolveAll;u&&!r.includes(u)&&(e=u(e,t),r.push(u))}return e}const Nn={name:"attention",tokenize:Pe,resolveAll:Te};function Te(n,e){let t=-1,r,i,u,l,a,o,h,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;o=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const p=Object.assign({},n[r][1].end),y=Object.assign({},n[t][1].start);yt(p,-o),yt(y,o),l={type:o>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},n[r][1].end)},a={type:o>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[t][1].start),end:y},u={type:o>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[t][1].start)},i={type:o>1?"strong":"emphasis",start:Object.assign({},l.start),end:Object.assign({},a.end)},n[r][1].end=Object.assign({},l.start),n[t][1].start=Object.assign({},a.end),h=[],n[r][1].end.offset-n[r][1].start.offset&&(h=J(h,[["enter",n[r][1],e],["exit",n[r][1],e]])),h=J(h,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",u,e]]),h=J(h,Qn(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),h=J(h,[["exit",u,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,h=J(h,[["enter",n[t][1],e],["exit",n[t][1],e]])):f=0,ln(n,r-1,t-r+3,h),t=r+h.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Pe(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=dt(r);let u;return l;function l(o){return n.enter("attentionSequence"),u=o,a(o)}function a(o){if(o===u)return n.consume(o),a;const h=n.exit("attentionSequence"),f=dt(o),p=!f||f===2&&i||t.includes(o),y=!i||i===2&&f||t.includes(r);return h._open=Boolean(u===42?p:p&&(i||!y)),h._close=Boolean(u===42?y:y&&(f||!p)),e(o)}}function yt(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const Oe={name:"autolink",tokenize:Be};function Be(n,e,t){let r=1;return i;function i(k){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(k),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),u}function u(k){return un(k)?(n.consume(k),l):gt(k)?h(k):t(k)}function l(k){return k===43||k===45||k===46||nn(k)?a(k):h(k)}function a(k){return k===58?(n.consume(k),o):(k===43||k===45||k===46||nn(k))&&r++<32?(n.consume(k),a):h(k)}function o(k){return k===62?(n.exit("autolinkProtocol"),g(k)):k===null||k===32||k===60||Hn(k)?t(k):(n.consume(k),o)}function h(k){return k===64?(n.consume(k),r=0,f):gt(k)?(n.consume(k),h):t(k)}function f(k){return nn(k)?p(k):t(k)}function p(k){return k===46?(n.consume(k),r=0,f):k===62?(n.exit("autolinkProtocol").type="autolinkEmail",g(k)):y(k)}function y(k){return(k===45||nn(k))&&r++<63?(n.consume(k),k===45?y:p):t(k)}function g(k){return n.enter("autolinkMarker"),n.consume(k),n.exit("autolinkMarker"),n.exit("autolink"),e}}const Cn={tokenize:Le,partial:!0};function Le(n,e,t){return R(n,r,"linePrefix");function r(i){return i===null||I(i)?e(i):t(i)}}const Ot={name:"blockQuote",tokenize:_e,continuation:{tokenize:De},exit:Re};function _e(n,e,t){const r=this;return i;function i(l){if(l===62){const a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),u}return t(l)}function u(l){return q(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function De(n,e,t){return R(n,n.attempt(Ot,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Re(n){n.exit("blockQuote")}const Bt={name:"characterEscape",tokenize:je};function je(n,e,t){return r;function r(u){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(u),n.exit("escapeMarker"),i}function i(u){return we(u)?(n.enter("characterEscapeValue"),n.consume(u),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(u)}}const kt=document.createElement("i");function Wn(n){const e="&"+n+";";kt.innerHTML=e;const t=kt.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}const Lt={name:"characterReference",tokenize:Me};function Me(n,e,t){const r=this;let i=0,u,l;return a;function a(p){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),o}function o(p){return p===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(p),n.exit("characterReferenceMarkerNumeric"),h):(n.enter("characterReferenceValue"),u=31,l=nn,f(p))}function h(p){return p===88||p===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(p),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),u=6,l=be,f):(n.enter("characterReferenceValue"),u=7,l=Vn,f(p))}function f(p){let y;return p===59&&i?(y=n.exit("characterReferenceValue"),l===nn&&!Wn(r.sliceSerialize(y))?t(p):(n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)):l(p)&&i++<u?(n.consume(p),f):t(p)}}const bt={name:"codeFenced",tokenize:qe,concrete:!0};function qe(n,e,t){const r=this,i={tokenize:O,partial:!0},u={tokenize:L,partial:!0},l=this.events[this.events.length-1],a=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0;let o=0,h;return f;function f(x){return n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),h=x,p(x)}function p(x){return x===h?(n.consume(x),o++,p):(n.exit("codeFencedFenceSequence"),o<3?t(x):R(n,y,"whitespace")(x))}function y(x){return x===null||I(x)?E(x):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||K(x)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),R(n,k,"whitespace")(x)):x===96&&x===h?t(x):(n.consume(x),g)}function k(x){return x===null||I(x)?E(x):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),w(x))}function w(x){return x===null||I(x)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),E(x)):x===96&&x===h?t(x):(n.consume(x),w)}function E(x){return n.exit("codeFencedFence"),r.interrupt?e(x):d(x)}function d(x){return x===null?S(x):I(x)?n.attempt(u,n.attempt(i,S,a?R(n,d,"linePrefix",a+1):d),S)(x):(n.enter("codeFlowValue"),T(x))}function T(x){return x===null||I(x)?(n.exit("codeFlowValue"),d(x)):(n.consume(x),T)}function S(x){return n.exit("codeFenced"),e(x)}function L(x,A,B){const _=this;return N;function N(C){return x.enter("lineEnding"),x.consume(C),x.exit("lineEnding"),F}function F(C){return _.parser.lazy[_.now().line]?B(C):A(C)}}function O(x,A,B){let _=0;return R(x,N,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function N(P){return x.enter("codeFencedFence"),x.enter("codeFencedFenceSequence"),F(P)}function F(P){return P===h?(x.consume(P),_++,F):_<o?B(P):(x.exit("codeFencedFenceSequence"),R(x,C,"whitespace")(P))}function C(P){return P===null||I(P)?(x.exit("codeFencedFence"),A(P)):B(P)}}}const Dn={name:"codeIndented",tokenize:He},Ve={tokenize:Ne,partial:!0};function He(n,e,t){const r=this;return i;function i(h){return n.enter("codeIndented"),R(n,u,"linePrefix",4+1)(h)}function u(h){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(h):t(h)}function l(h){return h===null?o(h):I(h)?n.attempt(Ve,l,o)(h):(n.enter("codeFlowValue"),a(h))}function a(h){return h===null||I(h)?(n.exit("codeFlowValue"),l(h)):(n.consume(h),a)}function o(h){return n.exit("codeIndented"),e(h)}}function Ne(n,e,t){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?t(l):I(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),i):R(n,u,"linePrefix",4+1)(l)}function u(l){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(l):I(l)?i(l):t(l)}}const Ue={name:"codeText",tokenize:$e,resolve:Qe,previous:We};function Qe(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function We(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $e(n,e,t){let r=0,i,u;return l;function l(p){return n.enter("codeText"),n.enter("codeTextSequence"),a(p)}function a(p){return p===96?(n.consume(p),r++,a):(n.exit("codeTextSequence"),o(p))}function o(p){return p===null?t(p):p===96?(u=n.enter("codeTextSequence"),i=0,f(p)):p===32?(n.enter("space"),n.consume(p),n.exit("space"),o):I(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),o):(n.enter("codeTextData"),h(p))}function h(p){return p===null||p===32||p===96||I(p)?(n.exit("codeTextData"),o(p)):(n.consume(p),h)}function f(p){return p===96?(n.consume(p),i++,f):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(p)):(u.type="codeTextData",h(p))}}function _t(n){const e={};let t=-1,r,i,u,l,a,o,h;for(;++t<n.length;){for(;t in e;)t=e[t];if(r=n[t],t&&r[1].type==="chunkFlow"&&n[t-1][1].type==="listItemPrefix"&&(o=r[1]._tokenizer.events,u=0,u<o.length&&o[u][1].type==="lineEndingBlank"&&(u+=2),u<o.length&&o[u][1].type==="content"))for(;++u<o.length&&o[u][1].type!=="content";)o[u][1].type==="chunkText"&&(o[u][1]._isInFirstContentOfListItem=!0,u++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Ye(n,t)),t=e[t],h=!0);else if(r[1]._container){for(u=t,i=void 0;u--&&(l=n[u],l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(i&&(n[i][1].type="lineEndingBlank"),l[1].type="lineEnding",i=u);i&&(r[1].end=Object.assign({},n[i][1].start),a=n.slice(i,t),a.unshift(r),ln(n,i,t-i+1,a))}}return!h}function Ye(n,e){const t=n[e][1],r=n[e][2];let i=e-1;const u=[],l=t._tokenizer||r.parser[t.contentType](t.start),a=l.events,o=[],h={};let f,p,y=-1,g=t,k=0,w=0;const E=[w];for(;g;){for(;n[++i][1]!==g;);u.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),p&&l.defineSkip(g.start),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=t;++y<a.length;)a[y][0]==="exit"&&a[y-1][0]==="enter"&&a[y][1].type===a[y-1][1].type&&a[y][1].start.line!==a[y][1].end.line&&(w=y+1,E.push(w),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(l.events=[],g?(g._tokenizer=void 0,g.previous=void 0):E.pop(),y=E.length;y--;){const d=a.slice(E[y],E[y+1]),T=u.pop();o.unshift([T,T+d.length-1]),ln(n,T,2,d)}for(y=-1;++y<o.length;)h[k+o[y][0]]=k+o[y][1],k+=o[y][1]-o[y][0]-1;return h}const Ze={tokenize:Ke,resolve:Je},Ge={tokenize:Xe,partial:!0};function Je(n){return _t(n),n}function Ke(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?u(a):I(a)?n.check(Ge,l,u)(a):(n.consume(a),i)}function u(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function l(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Xe(n,e,t){const r=this;return i;function i(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),R(n,u,"linePrefix")}function u(l){if(l===null||I(l))return t(l);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(l):n.interrupt(r.parser.constructs.flow,t,e)(l)}}function Dt(n,e,t,r,i,u,l,a,o){const h=o||Number.POSITIVE_INFINITY;let f=0;return p;function p(d){return d===60?(n.enter(r),n.enter(i),n.enter(u),n.consume(d),n.exit(u),y):d===null||d===41||Hn(d)?t(d):(n.enter(r),n.enter(l),n.enter(a),n.enter("chunkString",{contentType:"string"}),w(d))}function y(d){return d===62?(n.enter(u),n.consume(d),n.exit(u),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),g(d))}function g(d){return d===62?(n.exit("chunkString"),n.exit(a),y(d)):d===null||d===60||I(d)?t(d):(n.consume(d),d===92?k:g)}function k(d){return d===60||d===62||d===92?(n.consume(d),g):g(d)}function w(d){return d===40?++f>h?t(d):(n.consume(d),w):d===41?f--?(n.consume(d),w):(n.exit("chunkString"),n.exit(a),n.exit(l),n.exit(r),e(d)):d===null||K(d)?f?t(d):(n.exit("chunkString"),n.exit(a),n.exit(l),n.exit(r),e(d)):Hn(d)?t(d):(n.consume(d),d===92?E:w)}function E(d){return d===40||d===41||d===92?(n.consume(d),w):w(d)}}function Rt(n,e,t,r,i,u){const l=this;let a=0,o;return h;function h(g){return n.enter(r),n.enter(i),n.consume(g),n.exit(i),n.enter(u),f}function f(g){return g===null||g===91||g===93&&!o||g===94&&!a&&"_hiddenFootnoteSupport"in l.parser.constructs||a>999?t(g):g===93?(n.exit(u),n.enter(i),n.consume(g),n.exit(i),n.exit(r),e):I(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||I(g)||a++>999?(n.exit("chunkString"),f(g)):(n.consume(g),o=o||!q(g),g===92?y:p)}function y(g){return g===91||g===92||g===93?(n.consume(g),a++,p):p(g)}}function jt(n,e,t,r,i,u){let l;return a;function a(y){return n.enter(r),n.enter(i),n.consume(y),n.exit(i),l=y===40?41:y,o}function o(y){return y===l?(n.enter(i),n.consume(y),n.exit(i),n.exit(r),e):(n.enter(u),h(y))}function h(y){return y===l?(n.exit(u),o(l)):y===null?t(y):I(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),R(n,h,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===l||y===null||I(y)?(n.exit("chunkString"),h(y)):(n.consume(y),y===92?p:f)}function p(y){return y===l||y===92?(n.consume(y),f):f(y)}}function wn(n,e){let t;return r;function r(i){return I(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):q(i)?R(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}function gn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ve={name:"definition",tokenize:tr},nr={tokenize:er,partial:!0};function tr(n,e,t){const r=this;let i;return u;function u(o){return n.enter("definition"),Rt.call(r,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(o)}function l(o){return i=gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),o===58?(n.enter("definitionMarker"),n.consume(o),n.exit("definitionMarker"),wn(n,Dt(n,n.attempt(nr,R(n,a,"whitespace"),R(n,a,"whitespace")),t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):t(o)}function a(o){return o===null||I(o)?(n.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(o)):t(o)}}function er(n,e,t){return r;function r(l){return K(l)?wn(n,i)(l):t(l)}function i(l){return l===34||l===39||l===40?jt(n,R(n,u,"whitespace"),t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l):t(l)}function u(l){return l===null||I(l)?e(l):t(l)}}const rr={name:"hardBreakEscape",tokenize:ir};function ir(n,e,t){return r;function r(u){return n.enter("hardBreakEscape"),n.enter("escapeMarker"),n.consume(u),i}function i(u){return I(u)?(n.exit("escapeMarker"),n.exit("hardBreakEscape"),e(u)):t(u)}}const ur={name:"headingAtx",tokenize:ar,resolve:lr};function lr(n,e){let t=n.length-2,r=3,i,u;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},u={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},ln(n,r,t-r+1,[["enter",i,e],["enter",u,e],["exit",u,e],["exit",i,e]])),n}function ar(n,e,t){const r=this;let i=0;return u;function u(f){return n.enter("atxHeading"),n.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&i++<6?(n.consume(f),l):f===null||K(f)?(n.exit("atxHeadingSequence"),r.interrupt?e(f):a(f)):t(f)}function a(f){return f===35?(n.enter("atxHeadingSequence"),o(f)):f===null||I(f)?(n.exit("atxHeading"),e(f)):q(f)?R(n,a,"whitespace")(f):(n.enter("atxHeadingText"),h(f))}function o(f){return f===35?(n.consume(f),o):(n.exit("atxHeadingSequence"),a(f))}function h(f){return f===null||f===35||K(f)?(n.exit("atxHeadingText"),a(f)):(n.consume(f),h)}}const or=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wt=["pre","script","style","textarea"],sr={name:"htmlFlow",tokenize:fr,resolveTo:hr,concrete:!0},cr={tokenize:pr,partial:!0};function hr(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function fr(n,e,t){const r=this;let i,u,l,a,o;return h;function h(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),f}function f(s){return s===33?(n.consume(s),p):s===47?(n.consume(s),k):s===63?(n.consume(s),i=3,r.interrupt?e:$):un(s)?(n.consume(s),l=String.fromCharCode(s),u=!0,w):t(s)}function p(s){return s===45?(n.consume(s),i=2,y):s===91?(n.consume(s),i=5,l="CDATA[",a=0,g):un(s)?(n.consume(s),i=4,r.interrupt?e:$):t(s)}function y(s){return s===45?(n.consume(s),r.interrupt?e:$):t(s)}function g(s){return s===l.charCodeAt(a++)?(n.consume(s),a===l.length?r.interrupt?e:F:g):t(s)}function k(s){return un(s)?(n.consume(s),l=String.fromCharCode(s),w):t(s)}function w(s){return s===null||s===47||s===62||K(s)?s!==47&&u&&wt.includes(l.toLowerCase())?(i=1,r.interrupt?e(s):F(s)):or.includes(l.toLowerCase())?(i=6,s===47?(n.consume(s),E):r.interrupt?e(s):F(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(s):u?T(s):d(s)):s===45||nn(s)?(n.consume(s),l+=String.fromCharCode(s),w):t(s)}function E(s){return s===62?(n.consume(s),r.interrupt?e:F):t(s)}function d(s){return q(s)?(n.consume(s),d):_(s)}function T(s){return s===47?(n.consume(s),_):s===58||s===95||un(s)?(n.consume(s),S):q(s)?(n.consume(s),T):_(s)}function S(s){return s===45||s===46||s===58||s===95||nn(s)?(n.consume(s),S):L(s)}function L(s){return s===61?(n.consume(s),O):q(s)?(n.consume(s),L):T(s)}function O(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),o=s,x):q(s)?(n.consume(s),O):(o=null,A(s))}function x(s){return s===null||I(s)?t(s):s===o?(n.consume(s),B):(n.consume(s),x)}function A(s){return s===null||s===34||s===39||s===60||s===61||s===62||s===96||K(s)?L(s):(n.consume(s),A)}function B(s){return s===47||s===62||q(s)?T(s):t(s)}function _(s){return s===62?(n.consume(s),N):t(s)}function N(s){return q(s)?(n.consume(s),N):s===null||I(s)?F(s):t(s)}function F(s){return s===45&&i===2?(n.consume(s),Z):s===60&&i===1?(n.consume(s),tn):s===62&&i===4?(n.consume(s),V):s===63&&i===3?(n.consume(s),$):s===93&&i===5?(n.consume(s),U):I(s)&&(i===6||i===7)?n.check(cr,V,C)(s):s===null||I(s)?C(s):(n.consume(s),F)}function C(s){return n.exit("htmlFlowData"),P(s)}function P(s){return s===null?c(s):I(s)?n.attempt({tokenize:W,partial:!0},P,c)(s):(n.enter("htmlFlowData"),F(s))}function W(s,cn,xn){return hn;function hn(en){return s.enter("lineEnding"),s.consume(en),s.exit("lineEnding"),H}function H(en){return r.parser.lazy[r.now().line]?xn(en):cn(en)}}function Z(s){return s===45?(n.consume(s),$):F(s)}function tn(s){return s===47?(n.consume(s),l="",v):F(s)}function v(s){return s===62&&wt.includes(l.toLowerCase())?(n.consume(s),V):un(s)&&l.length<8?(n.consume(s),l+=String.fromCharCode(s),v):F(s)}function U(s){return s===93?(n.consume(s),$):F(s)}function $(s){return s===62?(n.consume(s),V):s===45&&i===2?(n.consume(s),$):F(s)}function V(s){return s===null||I(s)?(n.exit("htmlFlowData"),c(s)):(n.consume(s),V)}function c(s){return n.exit("htmlFlow"),e(s)}}function pr(n,e,t){return r;function r(i){return n.exit("htmlFlowData"),n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),n.attempt(Cn,e,t)}}const mr={name:"htmlText",tokenize:gr};function gr(n,e,t){const r=this;let i,u,l,a;return o;function o(c){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(c),h}function h(c){return c===33?(n.consume(c),f):c===47?(n.consume(c),A):c===63?(n.consume(c),O):un(c)?(n.consume(c),N):t(c)}function f(c){return c===45?(n.consume(c),p):c===91?(n.consume(c),u="CDATA[",l=0,E):un(c)?(n.consume(c),L):t(c)}function p(c){return c===45?(n.consume(c),y):t(c)}function y(c){return c===null||c===62?t(c):c===45?(n.consume(c),g):k(c)}function g(c){return c===null||c===62?t(c):k(c)}function k(c){return c===null?t(c):c===45?(n.consume(c),w):I(c)?(a=k,U(c)):(n.consume(c),k)}function w(c){return c===45?(n.consume(c),V):k(c)}function E(c){return c===u.charCodeAt(l++)?(n.consume(c),l===u.length?d:E):t(c)}function d(c){return c===null?t(c):c===93?(n.consume(c),T):I(c)?(a=d,U(c)):(n.consume(c),d)}function T(c){return c===93?(n.consume(c),S):d(c)}function S(c){return c===62?V(c):c===93?(n.consume(c),S):d(c)}function L(c){return c===null||c===62?V(c):I(c)?(a=L,U(c)):(n.consume(c),L)}function O(c){return c===null?t(c):c===63?(n.consume(c),x):I(c)?(a=O,U(c)):(n.consume(c),O)}function x(c){return c===62?V(c):O(c)}function A(c){return un(c)?(n.consume(c),B):t(c)}function B(c){return c===45||nn(c)?(n.consume(c),B):_(c)}function _(c){return I(c)?(a=_,U(c)):q(c)?(n.consume(c),_):V(c)}function N(c){return c===45||nn(c)?(n.consume(c),N):c===47||c===62||K(c)?F(c):t(c)}function F(c){return c===47?(n.consume(c),V):c===58||c===95||un(c)?(n.consume(c),C):I(c)?(a=F,U(c)):q(c)?(n.consume(c),F):V(c)}function C(c){return c===45||c===46||c===58||c===95||nn(c)?(n.consume(c),C):P(c)}function P(c){return c===61?(n.consume(c),W):I(c)?(a=P,U(c)):q(c)?(n.consume(c),P):F(c)}function W(c){return c===null||c===60||c===61||c===62||c===96?t(c):c===34||c===39?(n.consume(c),i=c,Z):I(c)?(a=W,U(c)):q(c)?(n.consume(c),W):(n.consume(c),i=void 0,v)}function Z(c){return c===i?(n.consume(c),tn):c===null?t(c):I(c)?(a=Z,U(c)):(n.consume(c),Z)}function tn(c){return c===62||c===47||K(c)?F(c):t(c)}function v(c){return c===null||c===34||c===39||c===60||c===61||c===96?t(c):c===62||K(c)?F(c):(n.consume(c),v)}function U(c){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),R(n,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $(c){return n.enter("htmlTextData"),a(c)}function V(c){return c===62?(n.consume(c),n.exit("htmlTextData"),n.exit("htmlText"),e):t(c)}}const $n={name:"labelEnd",tokenize:wr,resolveTo:br,resolveAll:kr},xr={tokenize:Sr},dr={tokenize:Fr},yr={tokenize:Er};function kr(n){let e=-1,t;for(;++e<n.length;)t=n[e][1],(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(n.splice(e+1,t.type==="labelImage"?4:2),t.type="data",e++);return n}function br(n,e){let t=n.length,r=0,i,u,l,a;for(;t--;)if(i=n[t][1],u){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(u=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=t);const o={type:n[u][1].type==="labelLink"?"link":"image",start:Object.assign({},n[u][1].start),end:Object.assign({},n[n.length-1][1].end)},h={type:"label",start:Object.assign({},n[u][1].start),end:Object.assign({},n[l][1].end)},f={type:"labelText",start:Object.assign({},n[u+r+2][1].end),end:Object.assign({},n[l-2][1].start)};return a=[["enter",o,e],["enter",h,e]],a=J(a,n.slice(u+1,u+r+3)),a=J(a,[["enter",f,e]]),a=J(a,Qn(e.parser.constructs.insideSpan.null,n.slice(u+r+4,l-3),e)),a=J(a,[["exit",f,e],n[l-2],n[l-1],["exit",h,e]]),a=J(a,n.slice(l+1)),a=J(a,[["exit",o,e]]),ln(n,u,n.length,a),n}function wr(n,e,t){const r=this;let i=r.events.length,u,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){u=r.events[i][1];break}return a;function a(f){return u?u._inactive?h(f):(l=r.parser.defined.includes(gn(r.sliceSerialize({start:u.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelEnd"),o):t(f)}function o(f){return f===40?n.attempt(xr,e,l?e:h)(f):f===91?n.attempt(dr,e,l?n.attempt(yr,e,h):h)(f):l?e(f):h(f)}function h(f){return u._balanced=!0,t(f)}}function Sr(n,e,t){return r;function r(o){return n.enter("resource"),n.enter("resourceMarker"),n.consume(o),n.exit("resourceMarker"),wn(n,i)}function i(o){return o===41?a(o):Dt(n,u,t,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(o)}function u(o){return K(o)?wn(n,l)(o):a(o)}function l(o){return o===34||o===39||o===40?jt(n,wn(n,a),t,"resourceTitle","resourceTitleMarker","resourceTitleString")(o):a(o)}function a(o){return o===41?(n.enter("resourceMarker"),n.consume(o),n.exit("resourceMarker"),n.exit("resource"),e):t(o)}}function Fr(n,e,t){const r=this;return i;function i(l){return Rt.call(r,n,u,t,"reference","referenceMarker","referenceString")(l)}function u(l){return r.parser.defined.includes(gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):t(l)}}function Er(n,e,t){return r;function r(u){return n.enter("reference"),n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),i}function i(u){return u===93?(n.enter("referenceMarker"),n.consume(u),n.exit("referenceMarker"),n.exit("reference"),e):t(u)}}const Cr={name:"labelStartImage",tokenize:Ar,resolveAll:$n.resolveAll};function Ar(n,e,t){const r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),u}function u(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),l):t(a)}function l(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const Ir={name:"labelStartLink",tokenize:zr,resolveAll:$n.resolveAll};function zr(n,e,t){const r=this;return i;function i(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),u}function u(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):e(l)}}const Rn={name:"lineEnding",tokenize:Tr};function Tr(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),R(n,e,"linePrefix")}}const En={name:"thematicBreak",tokenize:Pr};function Pr(n,e,t){let r=0,i;return u;function u(o){return n.enter("thematicBreak"),i=o,l(o)}function l(o){return o===i?(n.enter("thematicBreakSequence"),a(o)):q(o)?R(n,l,"whitespace")(o):r<3||o!==null&&!I(o)?t(o):(n.exit("thematicBreak"),e(o))}function a(o){return o===i?(n.consume(o),r++,a):(n.exit("thematicBreakSequence"),l(o))}}const Y={name:"list",tokenize:Lr,continuation:{tokenize:_r},exit:Rr},Or={tokenize:jr,partial:!0},Br={tokenize:Dr,partial:!0};function Lr(n,e,t){const r=this,i=r.events[r.events.length-1];let u=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return a;function a(g){const k=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:Vn(g)){if(r.containerState.type||(r.containerState.type=k,n.enter(k,{_container:!0})),k==="listUnordered")return n.enter("listItemPrefix"),g===42||g===45?n.check(En,t,h)(g):h(g);if(!r.interrupt||g===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),o(g)}return t(g)}function o(g){return Vn(g)&&++l<10?(n.consume(g),o):(!r.interrupt||l<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(n.exit("listItemValue"),h(g)):t(g)}function h(g){return n.enter("listItemMarker"),n.consume(g),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,n.check(Cn,r.interrupt?t:f,n.attempt(Or,y,p))}function f(g){return r.containerState.initialBlankLine=!0,u++,y(g)}function p(g){return q(g)?(n.enter("listItemPrefixWhitespace"),n.consume(g),n.exit("listItemPrefixWhitespace"),y):t(g)}function y(g){return r.containerState.size=u+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(g)}}function _r(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(Cn,i,u);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,R(n,e,"listItemIndent",r.containerState.size+1)(a)}function u(a){return r.containerState.furtherBlankLines||!q(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(Br,e,l)(a))}function l(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,R(n,n.attempt(Y,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Dr(n,e,t){const r=this;return R(n,i,"listItemIndent",r.containerState.size+1);function i(u){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(u):t(u)}}function Rr(n){n.exit(this.containerState.type)}function jr(n,e,t){const r=this;return R(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(u){const l=r.events[r.events.length-1];return!q(u)&&l&&l[1].type==="listItemPrefixWhitespace"?e(u):t(u)}}const St={name:"setextUnderline",tokenize:qr,resolveTo:Mr};function Mr(n,e){let t=n.length,r,i,u;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!u&&n[t][1].type==="definition"&&(u=t);const l={type:"setextHeading",start:Object.assign({},n[i][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[i][1].type="setextHeadingText",u?(n.splice(i,0,["enter",l,e]),n.splice(u+1,0,["exit",n[r][1],e]),n[r][1].end=Object.assign({},n[u][1].end)):n[r][1]=l,n.push(["exit",l,e]),n}function qr(n,e,t){const r=this;let i=r.events.length,u,l;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){l=r.events[i][1].type==="paragraph";break}return a;function a(f){return!r.parser.lazy[r.now().line]&&(r.interrupt||l)?(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),u=f,o(f)):t(f)}function o(f){return f===u?(n.consume(f),o):(n.exit("setextHeadingLineSequence"),R(n,h,"lineSuffix")(f))}function h(f){return f===null||I(f)?(n.exit("setextHeadingLine"),e(f)):t(f)}}const Vr={tokenize:Hr};function Hr(n){const e=this,t=n.attempt(Cn,r,n.attempt(this.parser.constructs.flowInitial,i,R(n,n.attempt(this.parser.constructs.flow,i,n.attempt(Ze,i)),"linePrefix")));return t;function r(u){if(u===null){n.consume(u);return}return n.enter("lineEndingBlank"),n.consume(u),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(u){if(u===null){n.consume(u);return}return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Nr={resolveAll:qt()},Ur=Mt("string"),Qr=Mt("text");function Mt(n){return{tokenize:e,resolveAll:qt(n==="text"?Wr:void 0)};function e(t){const r=this,i=this.parser.constructs[n],u=t.attempt(i,l,a);return l;function l(f){return h(f)?u(f):a(f)}function a(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),o}function o(f){return h(f)?(t.exit("data"),u(f)):(t.consume(f),o)}function h(f){if(f===null)return!0;const p=i[f];let y=-1;if(p)for(;++y<p.length;){const g=p[y];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function qt(n){return e;function e(t,r){let i=-1,u;for(;++i<=t.length;)u===void 0?t[i]&&t[i][1].type==="data"&&(u=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==u+2&&(t[u][1].end=t[i-1][1].end,t.splice(u+2,i-u-2),i=u+2),u=void 0);return n?n(t,r):t}}function Wr(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let u=i.length,l=-1,a=0,o;for(;u--;){const h=i[u];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)a++,l--;if(l)break;l=-1}else if(h===-2)o=!0,a++;else if(h!==-1){u++;break}}if(a){const h={type:t===n.length||o||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+u,_bufferIndex:u?l:r.start._bufferIndex+l},end:Object.assign({},r.end)};r.end=Object.assign({},h.start),r.start.offset===r.end.offset?Object.assign(r,h):(n.splice(t,0,["enter",h,e],["exit",h,e]),t+=2)}t++}return n}function $r(n,e,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},u=[];let l=[],a=[];const o={consume:T,enter:S,exit:L,attempt:A(O),check:A(x),interrupt:A(x,{interrupt:!0})},h={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:g,sliceSerialize:y,now:k,defineSkip:w,write:p};let f=e.tokenize.call(h,o);return e.resolveAll&&u.push(e),h;function p(F){return l=J(l,F),E(),l[l.length-1]!==null?[]:(B(e,0),h.events=Qn(u,h.events,h),h.events)}function y(F,C){return Zr(g(F),C)}function g(F){return Yr(l,F)}function k(){return Object.assign({},r)}function w(F){i[F.line]=F.column,N()}function E(){let F;for(;r._index<l.length;){const C=l[r._index];if(typeof C=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<C.length;)d(C.charCodeAt(r._bufferIndex));else d(C)}}function d(F){f=f(F)}function T(F){I(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,N()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=F}function S(F,C){const P=C||{};return P.type=F,P.start=k(),h.events.push(["enter",P,h]),a.push(P),P}function L(F){const C=a.pop();return C.end=k(),h.events.push(["exit",C,h]),C}function O(F,C){B(F,C.from)}function x(F,C){C.restore()}function A(F,C){return P;function P(W,Z,tn){let v,U,$,V;return Array.isArray(W)?s(W):"tokenize"in W?s([W]):c(W);function c(H){return en;function en(an){const fn=an!==null&&H[an],pn=an!==null&&H.null,In=[...Array.isArray(fn)?fn:fn?[fn]:[],...Array.isArray(pn)?pn:pn?[pn]:[]];return s(In)(an)}}function s(H){return v=H,U=0,H.length===0?tn:cn(H[U])}function cn(H){return en;function en(an){return V=_(),$=H,H.partial||(h.currentConstruct=H),H.name&&h.parser.constructs.disable.null.includes(H.name)?hn():H.tokenize.call(C?Object.assign(Object.create(h),C):h,o,xn,hn)(an)}}function xn(H){return F($,V),Z}function hn(H){return V.restore(),++U<v.length?cn(v[U]):tn}}}function B(F,C){F.resolveAll&&!u.includes(F)&&u.push(F),F.resolve&&ln(h.events,C,h.events.length-C,F.resolve(h.events.slice(C),h)),F.resolveTo&&(h.events=F.resolveTo(h.events,h))}function _(){const F=k(),C=h.previous,P=h.currentConstruct,W=h.events.length,Z=Array.from(a);return{restore:tn,from:W};function tn(){r=F,h.previous=C,h.currentConstruct=P,h.events.length=W,a=Z,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Yr(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,u=e.end._bufferIndex;let l;return t===i?l=[n[t].slice(r,u)]:(l=n.slice(t,i),r>-1&&(l[0]=l[0].slice(r)),u>0&&l.push(n[i].slice(0,u))),l}function Zr(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const u=n[t];let l;if(typeof u=="string")l=u;else switch(u){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(u)}i=u===-2,r.push(l)}return r.join("")}const Gr={[42]:Y,[43]:Y,[45]:Y,[48]:Y,[49]:Y,[50]:Y,[51]:Y,[52]:Y,[53]:Y,[54]:Y,[55]:Y,[56]:Y,[57]:Y,[62]:Ot},Jr={[91]:ve},Kr={[-2]:Dn,[-1]:Dn,[32]:Dn},Xr={[35]:ur,[42]:En,[45]:[St,En],[60]:sr,[61]:St,[95]:En,[96]:bt,[126]:bt},vr={[38]:Lt,[92]:Bt},ni={[-5]:Rn,[-4]:Rn,[-3]:Rn,[33]:Cr,[38]:Lt,[42]:Nn,[60]:[Oe,mr],[91]:Ir,[92]:[rr,Bt],[93]:$n,[95]:Nn,[96]:Ue},ti={null:[Nn,Nr]},ei={null:[42,95]},ri={null:[]},ii=Object.freeze(Object.defineProperty({__proto__:null,document:Gr,contentInitial:Jr,flowInitial:Kr,flow:Xr,string:vr,text:ni,insideSpan:ti,attentionMarkers:ei,disable:ri},Symbol.toStringTag,{value:"Module"}));function ui(n={}){const e=xe([ii].concat(n.extensions||[])),t={defined:[],lazy:{},constructs:e,content:r(Ee),document:r(Ae),flow:r(Vr),string:r(Ur),text:r(Qr)};return t;function r(i){return u;function u(l){return $r(t,i,l)}}}const Ft=/[\0\t\n\r]/g;function li(){let n=1,e="",t=!0,r;return i;function i(u,l,a){const o=[];let h,f,p,y,g;for(u=e+u.toString(l),p=0,e="",t&&(u.charCodeAt(0)===65279&&p++,t=void 0);p<u.length;){if(Ft.lastIndex=p,h=Ft.exec(u),y=h&&h.index!==void 0?h.index:u.length,g=u.charCodeAt(y),!h){e=u.slice(p);break}if(g===10&&p===y&&r)o.push(-3),r=void 0;else switch(r&&(o.push(-5),r=void 0),p<y&&(o.push(u.slice(p,y)),n+=y-p),g){case 0:{o.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,o.push(-2);n++<f;)o.push(-1);break}case 10:{o.push(-4),n=1;break}default:r=!0,n=1}p=y+1}return a&&(r&&o.push(-5),e&&o.push(e),o.push(null)),o}}function ai(n){for(;!_t(n););return n}function Vt(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCharCode(t)}const oi=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function si(n){return n.replace(oi,ci)}function ci(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),u=i===120||i===88;return Vt(t.slice(u?2:1),u?16:10)}return Wn(t)||n}const Un={}.hasOwnProperty,hi=function(n,e,t){return typeof e!="string"&&(t=e,e=void 0),fi(t)(ai(ui(t).document().write(li()(n,e,!0))))};function fi(n={}){const e=Ht({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Kn),autolinkProtocol:C,autolinkEmail:C,atxHeading:o(Zn),blockQuote:o(Ut),characterEscape:C,characterReference:C,codeFenced:o(Yn),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:o(Yn,h),codeText:o(Qt,h),codeTextData:C,data:C,codeFlowValue:C,definition:o(Wt),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:o($t),hardBreakEscape:o(Gn),hardBreakTrailing:o(Gn),htmlFlow:o(Jn,h),htmlFlowData:C,htmlText:o(Jn,h),htmlTextData:C,image:o(Yt),label:h,link:o(Kn),listItem:o(Zt),listItemValue:w,listOrdered:o(Xn,k),listUnordered:o(Xn),paragraph:o(Gt),reference:H,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:o(Zn),strong:o(Jt),thematicBreak:o(Xt)},exit:{atxHeading:p(),atxHeadingSequence:B,autolink:p(),autolinkEmail:In,autolinkProtocol:pn,blockQuote:p(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:an,characterReferenceMarkerNumeric:an,characterReferenceValue:fn,codeFenced:p(S),codeFencedFence:T,codeFencedFenceInfo:E,codeFencedFenceMeta:d,codeFlowValue:P,codeIndented:p(L),codeText:p(U),codeTextData:P,data:P,definition:p(),definitionDestinationString:A,definitionLabelString:O,definitionTitleString:x,emphasis:p(),hardBreakEscape:p(Z),hardBreakTrailing:p(Z),htmlFlow:p(tn),htmlFlowData:P,htmlText:p(v),htmlTextData:P,image:p(V),label:s,labelText:c,lineEnding:W,link:p($),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:en,resourceDestinationString:cn,resourceTitleString:xn,resource:hn,setextHeading:p(F),setextHeadingLineSequence:N,setextHeadingText:_,strong:p(),thematicBreak:p()}},n.mdastExtensions||[]),t={};return r;function r(m){let b={type:"root",children:[]};const z=[b],D=[],G=[],dn={stack:z,tokenStack:D,config:e,enter:f,exit:y,buffer:h,resume:g,setData:u,getData:l};let j=-1;for(;++j<m.length;)if(m[j][1].type==="listOrdered"||m[j][1].type==="listUnordered")if(m[j][0]==="enter")G.push(j);else{const Q=G.pop();j=i(m,Q,j)}for(j=-1;++j<m.length;){const Q=e[m[j][0]];Un.call(Q,m[j][1].type)&&Q[m[j][1].type].call(Object.assign({sliceSerialize:m[j][2].sliceSerialize},dn),m[j][1])}if(D.length>0){const Q=D[D.length-1];(Q[1]||Et).call(dn,void 0,Q[0])}for(b.position={start:a(m.length>0?m[0][1].start:{line:1,column:1,offset:0}),end:a(m.length>0?m[m.length-2][1].end:{line:1,column:1,offset:0})},j=-1;++j<e.transforms.length;)b=e.transforms[j](b)||b;return b}function i(m,b,z){let D=b-1,G=-1,dn=!1,j,Q,mn,yn;for(;++D<=z;){const M=m[D];if(M[1].type==="listUnordered"||M[1].type==="listOrdered"||M[1].type==="blockQuote"?(M[0]==="enter"?G++:G--,yn=void 0):M[1].type==="lineEndingBlank"?M[0]==="enter"&&(j&&!yn&&!G&&!mn&&(mn=D),yn=void 0):M[1].type==="linePrefix"||M[1].type==="listItemValue"||M[1].type==="listItemMarker"||M[1].type==="listItemPrefix"||M[1].type==="listItemPrefixWhitespace"||(yn=void 0),!G&&M[0]==="enter"&&M[1].type==="listItemPrefix"||G===-1&&M[0]==="exit"&&(M[1].type==="listUnordered"||M[1].type==="listOrdered")){if(j){let zn=D;for(Q=void 0;zn--;){const on=m[zn];if(on[1].type==="lineEnding"||on[1].type==="lineEndingBlank"){if(on[0]==="exit")continue;Q&&(m[Q][1].type="lineEndingBlank",dn=!0),on[1].type="lineEnding",Q=zn}else if(!(on[1].type==="linePrefix"||on[1].type==="blockQuotePrefix"||on[1].type==="blockQuotePrefixWhitespace"||on[1].type==="blockQuoteMarker"||on[1].type==="listItemIndent"))break}mn&&(!Q||mn<Q)&&(j._spread=!0),j.end=Object.assign({},Q?m[Q][1].start:M[1].end),m.splice(Q||D,0,["exit",j,M[2]]),D++,z++}M[1].type==="listItemPrefix"&&(j={type:"listItem",_spread:!1,start:Object.assign({},M[1].start)},m.splice(D,0,["enter",j,M[2]]),D++,z++,mn=void 0,yn=!0)}}return m[b][1]._spread=dn,z}function u(m,b){t[m]=b}function l(m){return t[m]}function a(m){return{line:m.line,column:m.column,offset:m.offset}}function o(m,b){return z;function z(D){f.call(this,m(D),D),b&&b.call(this,D)}}function h(){this.stack.push({type:"fragment",children:[]})}function f(m,b,z){return this.stack[this.stack.length-1].children.push(m),this.stack.push(m),this.tokenStack.push([b,z]),m.position={start:a(b.start)},m}function p(m){return b;function b(z){m&&m.call(this,z),y.call(this,z)}}function y(m,b){const z=this.stack.pop(),D=this.tokenStack.pop();if(D)D[0].type!==m.type&&(b?b.call(this,m,D[0]):(D[1]||Et).call(this,m,D[0]));else throw new Error("Cannot close `"+m.type+"` ("+bn({start:m.start,end:m.end})+"): it\u2019s not open");return z.position.end=a(m.end),z}function g(){return ge(this.stack.pop())}function k(){u("expectingFirstListItemValue",!0)}function w(m){if(l("expectingFirstListItemValue")){const b=this.stack[this.stack.length-2];b.start=Number.parseInt(this.sliceSerialize(m),10),u("expectingFirstListItemValue")}}function E(){const m=this.resume(),b=this.stack[this.stack.length-1];b.lang=m}function d(){const m=this.resume(),b=this.stack[this.stack.length-1];b.meta=m}function T(){l("flowCodeInside")||(this.buffer(),u("flowCodeInside",!0))}function S(){const m=this.resume(),b=this.stack[this.stack.length-1];b.value=m.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),u("flowCodeInside")}function L(){const m=this.resume(),b=this.stack[this.stack.length-1];b.value=m.replace(/(\r?\n|\r)$/g,"")}function O(m){const b=this.resume(),z=this.stack[this.stack.length-1];z.label=b,z.identifier=gn(this.sliceSerialize(m)).toLowerCase()}function x(){const m=this.resume(),b=this.stack[this.stack.length-1];b.title=m}function A(){const m=this.resume(),b=this.stack[this.stack.length-1];b.url=m}function B(m){const b=this.stack[this.stack.length-1];if(!b.depth){const z=this.sliceSerialize(m).length;b.depth=z}}function _(){u("setextHeadingSlurpLineEnding",!0)}function N(m){const b=this.stack[this.stack.length-1];b.depth=this.sliceSerialize(m).charCodeAt(0)===61?1:2}function F(){u("setextHeadingSlurpLineEnding")}function C(m){const b=this.stack[this.stack.length-1];let z=b.children[b.children.length-1];(!z||z.type!=="text")&&(z=Kt(),z.position={start:a(m.start)},b.children.push(z)),this.stack.push(z)}function P(m){const b=this.stack.pop();b.value+=this.sliceSerialize(m),b.position.end=a(m.end)}function W(m){const b=this.stack[this.stack.length-1];if(l("atHardBreak")){const z=b.children[b.children.length-1];z.position.end=a(m.end),u("atHardBreak");return}!l("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(b.type)&&(C.call(this,m),P.call(this,m))}function Z(){u("atHardBreak",!0)}function tn(){const m=this.resume(),b=this.stack[this.stack.length-1];b.value=m}function v(){const m=this.resume(),b=this.stack[this.stack.length-1];b.value=m}function U(){const m=this.resume(),b=this.stack[this.stack.length-1];b.value=m}function $(){const m=this.stack[this.stack.length-1];l("inReference")?(m.type+="Reference",m.referenceType=l("referenceType")||"shortcut",delete m.url,delete m.title):(delete m.identifier,delete m.label),u("referenceType")}function V(){const m=this.stack[this.stack.length-1];l("inReference")?(m.type+="Reference",m.referenceType=l("referenceType")||"shortcut",delete m.url,delete m.title):(delete m.identifier,delete m.label),u("referenceType")}function c(m){const b=this.stack[this.stack.length-2],z=this.sliceSerialize(m);b.label=si(z),b.identifier=gn(z).toLowerCase()}function s(){const m=this.stack[this.stack.length-1],b=this.resume(),z=this.stack[this.stack.length-1];u("inReference",!0),z.type==="link"?z.children=m.children:z.alt=b}function cn(){const m=this.resume(),b=this.stack[this.stack.length-1];b.url=m}function xn(){const m=this.resume(),b=this.stack[this.stack.length-1];b.title=m}function hn(){u("inReference")}function H(){u("referenceType","collapsed")}function en(m){const b=this.resume(),z=this.stack[this.stack.length-1];z.label=b,z.identifier=gn(this.sliceSerialize(m)).toLowerCase(),u("referenceType","full")}function an(m){u("characterReferenceType",m.type)}function fn(m){const b=this.sliceSerialize(m),z=l("characterReferenceType");let D;z?(D=Vt(b,z==="characterReferenceMarkerNumeric"?10:16),u("characterReferenceType")):D=Wn(b);const G=this.stack.pop();G.value+=D,G.position.end=a(m.end)}function pn(m){P.call(this,m);const b=this.stack[this.stack.length-1];b.url=this.sliceSerialize(m)}function In(m){P.call(this,m);const b=this.stack[this.stack.length-1];b.url="mailto:"+this.sliceSerialize(m)}function Ut(){return{type:"blockquote",children:[]}}function Yn(){return{type:"code",lang:null,meta:null,value:""}}function Qt(){return{type:"inlineCode",value:""}}function Wt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $t(){return{type:"emphasis",children:[]}}function Zn(){return{type:"heading",depth:void 0,children:[]}}function Gn(){return{type:"break"}}function Jn(){return{type:"html",value:""}}function Yt(){return{type:"image",title:null,url:"",alt:null}}function Kn(){return{type:"link",title:null,url:"",children:[]}}function Xn(m){return{type:"list",ordered:m.type==="listOrdered",start:null,spread:m._spread,children:[]}}function Zt(m){return{type:"listItem",spread:m._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function Jt(){return{type:"strong",children:[]}}function Kt(){return{type:"text",value:""}}function Xt(){return{type:"thematicBreak"}}}function Ht(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?Ht(n,r):pi(n,r)}return n}function pi(n,e){let t;for(t in e)if(Un.call(e,t)){const r=t==="canContainEols"||t==="transforms",u=(Un.call(n,t)?n[t]:void 0)||(n[t]=r?[]:{}),l=e[t];l&&(r?n[t]=[...u,...l]:Object.assign(u,l))}}function Et(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+bn({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+bn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+bn({start:e.start,end:e.end})+") is still open")}function Fi(n){Object.assign(this,{Parser:t=>{const r=this.data("settings");return hi(t,Object.assign({},r,n,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const Nt=function(n){if(n==null)return di;if(typeof n=="string")return xi(n);if(typeof n=="object")return Array.isArray(n)?mi(n):gi(n);if(typeof n=="function")return An(n);throw new Error("Expected function, string, or object as test")};function mi(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=Nt(n[t]);return An(r);function r(...i){let u=-1;for(;++u<e.length;)if(e[u].call(this,...i))return!0;return!1}}function gi(n){return An(e);function e(t){let r;for(r in n)if(t[r]!==n[r])return!1;return!0}}function xi(n){return An(e);function e(t){return t&&t.type===n}}function An(n){return e;function e(...t){return Boolean(n.call(this,...t))}}function di(){return!0}const yi=!0,ki="skip",Ct=!1,bi=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null);const i=Nt(e),u=r?-1:1;l(n,null,[])();function l(a,o,h){const f=typeof a=="object"&&a!==null?a:{};let p;return typeof f.type=="string"&&(p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0,Object.defineProperty(y,"name",{value:"node ("+(f.type+(p?"<"+p+">":""))+")"})),y;function y(){let g=[],k,w,E;if((!e||i(a,o,h[h.length-1]||null))&&(g=wi(t(a,h)),g[0]===Ct))return g;if(a.children&&g[0]!==ki)for(w=(r?a.children.length:-1)+u,E=h.concat(a);w>-1&&w<a.children.length;){if(k=l(a.children[w],w,E)(),k[0]===Ct)return k;w=typeof k[1]=="number"?k[1]:w+u}return g}}};function wi(n){return Array.isArray(n)?n:typeof n=="number"?[yi,n]:[n]}const Ei=function(n,e,t,r){typeof e=="function"&&typeof t!="function"&&(r=t,t=e,e=null),bi(n,e,i,r);function i(u,l){const a=l[l.length-1];return t(u,a?a.children.indexOf(u):null,a)}};export{Ct as E,se as V,nn as a,Vn as b,Hn as c,Se as d,Fe as e,un as f,I as g,Cn as h,R as i,Qn as j,dt as k,q as l,K as m,gn as n,xe as o,Nt as p,bi as q,Fi as r,ln as s,si as t,Si as u,Ei as v,ge as w};
