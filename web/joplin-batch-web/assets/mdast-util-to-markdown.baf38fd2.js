import{d as F}from"./micromark-util-decode-string.5840a04a.js";import{z as J}from"./zwitch.ff65d30c.js";import{l as K}from"./longest-streak.7bb4efd1.js";import{v as N}from"./unist-util-visit.23fe510a.js";import{t as j}from"./mdast-util-to-string.fb536fe5.js";import{E as V}from"./unist-util-visit-parents.7a4d7581.js";function Je(e){return e.label||!e.identifier?e.label||"":F(e.identifier)}function Ke(e,r,t){const n=r.indexStack,o=e.children||[],s=r.createTracker(t),i=[];let c=-1;for(n.push(-1);++c<o.length;){const l=o[c];n[n.length-1]=c,i.push(s.move(r.handle(l,e,r,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(r.bulletLastUsed=void 0),c<o.length-1&&i.push(s.move(Y(l,o[c+1],e,r)))}return n.pop(),i.join("")}function Y(e,r,t,n){let o=n.join.length;for(;o--;){const s=n.join[o](e,r,t,n);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const ee=/\r?\n|\r/g;function Ne(e,r){const t=[];let n=0,o=0,s;for(;s=ee.exec(e);)i(e.slice(n,s.index)),t.push(s[0]),n=s.index+s[0].length,o++;return i(e.slice(n)),t.join("");function i(c){t.push(r(c,o,!c))}}function z(e){if(!e._compiled){const r=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((r?"("+r+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function te(e,r){return S(e,r.inConstruct,!0)&&!S(e,r.notInConstruct,!1)}function S(e,r,t){if(typeof r=="string"&&(r=[r]),!r||r.length===0)return t;let n=-1;for(;++n<r.length;)if(e.includes(r[n]))return!0;return!1}function Ve(e,r,t){const n=(t.before||"")+(r||"")+(t.after||""),o=[],s=[],i={};let c=-1;for(;++c<e.unsafe.length;){const u=e.unsafe[c];if(!te(e.stack,u))continue;const f=z(u);let h;for(;h=f.exec(n);){const d="before"in u||Boolean(u.atBreak),w="after"in u,m=h.index+(d?h[1].length:0);o.includes(m)?(i[m].before&&!d&&(i[m].before=!1),i[m].after&&!w&&(i[m].after=!1)):(o.push(m),i[m]={before:d,after:w})}}o.sort(re);let l=t.before?t.before.length:0;const a=n.length-(t.after?t.after.length:0);for(c=-1;++c<o.length;){const u=o[c];u<l||u>=a||u+1<a&&o[c+1]===u+1&&i[u].after&&!i[u+1].before&&!i[u+1].after||o[c-1]===u-1&&i[u].before&&!i[u-1].before&&!i[u-1].after||(l!==u&&s.push(L(n.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(n.charAt(u))&&(!t.encode||!t.encode.includes(n.charAt(u)))?s.push("\\"):(s.push("&#x"+n.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return s.push(L(n.slice(l,a),t.after)),s.join("")}function re(e,r){return e-r}function L(e,r){const t=/\\(?=[!-/:-@[-`{-~])/g,n=[],o=[],s=e+r;let i=-1,c=0,l;for(;l=t.exec(s);)n.push(l.index);for(;++i<n.length;)c!==n[i]&&o.push(e.slice(c,n[i])),o.push("\\"),c=n[i];return o.push(e.slice(c)),o.join("")}function Ye(e){const r=e||{},t=r.now||{};let n=r.lineShift||0,o=t.line||1,s=t.column||1;return{move:l,current:i,shift:c};function i(){return{now:{line:o,column:s},lineShift:n}}function c(a){n+=a}function l(a){const u=a||"",f=u.split(/\r?\n|\r/g),h=f[f.length-1];return o+=f.length-1,s=f.length===1?s+h.length:1+h.length+n,u}}function et(e,r,t){const n=r.indexStack,o=e.children||[],s=[];let i=-1,c=t.before;n.push(-1);let l=r.createTracker(t);for(;++i<o.length;){const a=o[i];let u;if(n[n.length-1]=i,i+1<o.length){let f=r.handle.handlers[o[i+1].type];f&&f.peek&&(f=f.peek),u=f?f(o[i+1],e,r,{before:"",after:"",...l.current()}).charAt(0):""}else u=t.after;s.length>0&&(c==="\r"||c===`
`)&&a.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),c=" ",l=r.createTracker(t),l.move(s.join(""))),s.push(l.move(r.handle(a,e,r,{...l.current(),before:c,after:u}))),c=s[s.length-1].slice(-1)}return n.pop(),s.join("")}ne.peek=ie;function ne(e,r,t){let n=e.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(n);)o+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<t.unsafe.length;){const i=t.unsafe[s],c=z(i);let l;if(!!i.atBreak)for(;l=c.exec(n);){let a=l.index;n.charCodeAt(a)===10&&n.charCodeAt(a-1)===13&&a--,n=n.slice(0,a)+" "+n.slice(l.index+1)}}return o+n+o}function ie(){return"`"}function oe(e){const r=e.options.bullet||"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bullet`, expected `*`, `+`, or `-`");return r}function se(e){const r=e.options.listItemIndent||"tab";if(r===1||r==="1")return"one";if(r!=="tab"&&r!=="one"&&r!=="mixed")throw new Error("Cannot serialize items with `"+r+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return r}function tt(e,r,t,n){const o=se(t);let s=t.bulletCurrent||oe(t);r&&r.type==="list"&&r.ordered&&(s=(typeof r.start=="number"&&r.start>-1?r.start:1)+(t.options.incrementListMarker===!1?0:r.children.indexOf(e))+s);let i=s.length+1;(o==="tab"||o==="mixed"&&(r&&r.type==="list"&&r.spread||e.spread))&&(i=Math.ceil(i/4)*4);const c=t.createTracker(n);c.move(s+" ".repeat(i-s.length)),c.shift(i);const l=t.enter("listItem"),a=t.indentLines(t.containerFlow(e,c.current()),u);return l(),a;function u(f,h,d){return h?(d?"":" ".repeat(i))+f:(d?s:s+" ".repeat(i-s.length))+f}}function v(e,r){let t=-1,n;if(r.extensions)for(;++t<r.extensions.length;)v(e,r.extensions[t]);for(n in r)n==="extensions"||(n==="unsafe"||n==="join"?e[n]=[...e[n]||[],...r[n]||[]]:n==="handlers"?e[n]=Object.assign(e[n],r[n]||{}):e.options[n]=r[n]);return e}function k(e){const r=e||{},t=r.now||{};let n=r.lineShift||0,o=t.line||1,s=t.column||1;return{move:l,current:i,shift:c};function i(){return{now:{line:o,column:s},lineShift:n}}function c(a){n+=a}function l(a=""){const u=a.split(/\r?\n|\r/g),f=u[u.length-1];return o+=u.length-1,s=u.length===1?s+f.length:1+f.length+n,a}}function C(e,r,t){const n=r.indexStack,o=e.children||[],s=k(t),i=[];let c=-1;for(n.push(-1);++c<o.length;){const a=o[c];n[n.length-1]=c,i.push(s.move(r.handle(a,e,r,{before:`
`,after:`
`,...s.current()}))),a.type!=="list"&&(r.bulletLastUsed=void 0),c<o.length-1&&i.push(s.move(l(a,o[c+1])))}return n.pop(),i.join("");function l(a,u){let f=r.join.length;for(;f--;){const h=r.join[f](a,u,e,r);if(h===!0||h===1)break;if(typeof h=="number")return`
`.repeat(1+h);if(h===!1)return`

<!---->

`}return`

`}}const ce=/\r?\n|\r/g;function I(e,r){const t=[];let n=0,o=0,s;for(;s=ce.exec(e);)i(e.slice(n,s.index)),t.push(s[0]),n=s.index+s[0].length,o++;return i(e.slice(n)),t.join("");function i(c){t.push(r(c,o,!c))}}function le(e,r,t,n){const o=t.enter("blockquote"),s=k(n);s.move("> "),s.shift(2);const i=I(C(e,t,s.current()),ae);return o(),i}function ae(e,r,t){return">"+(t?"":" ")+e}function R(e,r){return $(e,r.inConstruct,!0)&&!$(e,r.notInConstruct,!1)}function $(e,r,t){if(!r)return t;typeof r=="string"&&(r=[r]);let n=-1;for(;++n<r.length;)if(e.includes(r[n]))return!0;return!1}function O(e,r,t,n){let o=-1;for(;++o<t.unsafe.length;)if(t.unsafe[o].character===`
`&&R(t.stack,t.unsafe[o]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function y(e,r){return Boolean(!r.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function ue(e){const r=e.options.fence||"`";if(r!=="`"&&r!=="~")throw new Error("Cannot serialize code with `"+r+"` for `options.fence`, expected `` ` `` or `~`");return r}function M(e){if(!e._compiled){const r=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((r?"("+r+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function p(e,r,t){const n=(t.before||"")+(r||"")+(t.after||""),o=[],s=[],i={};let c=-1;for(;++c<e.unsafe.length;){const u=e.unsafe[c];if(!R(e.stack,u))continue;const f=M(u);let h;for(;h=f.exec(n);){const d="before"in u||Boolean(u.atBreak),w="after"in u,m=h.index+(d?h[1].length:0);o.includes(m)?(i[m].before&&!d&&(i[m].before=!1),i[m].after&&!w&&(i[m].after=!1)):(o.push(m),i[m]={before:d,after:w})}}o.sort(fe);let l=t.before?t.before.length:0;const a=n.length-(t.after?t.after.length:0);for(c=-1;++c<o.length;){const u=o[c];u<l||u>=a||u+1<a&&o[c+1]===u+1&&i[u].after&&!i[u+1].before&&!i[u+1].after||o[c-1]===u-1&&i[u].before&&!i[u-1].before&&!i[u-1].after||(l!==u&&s.push(E(n.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(n.charAt(u))&&(!t.encode||!t.encode.includes(n.charAt(u)))?s.push("\\"):(s.push("&#x"+n.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return s.push(E(n.slice(l,a),t.after)),s.join("")}function fe(e,r){return e-r}function E(e,r){const t=/\\(?=[!-/:-@[-`{-~])/g,n=[],o=[],s=e+r;let i=-1,c=0,l;for(;l=t.exec(s);)n.push(l.index);for(;++i<n.length;)c!==n[i]&&o.push(e.slice(c,n[i])),o.push("\\"),c=n[i];return o.push(e.slice(c)),o.join("")}function he(e,r,t,n){const o=ue(t),s=e.value||"",i=o==="`"?"GraveAccent":"Tilde";if(y(e,t)){const f=t.enter("codeIndented"),h=I(s,de);return f(),h}const c=k(n),l=o.repeat(Math.max(K(s,o)+1,3)),a=t.enter("codeFenced");let u=c.move(l);if(e.lang){const f=t.enter("codeFencedLang"+i);u+=c.move(p(t,e.lang,{before:u,after:" ",encode:["`"],...c.current()})),f()}if(e.lang&&e.meta){const f=t.enter("codeFencedMeta"+i);u+=c.move(" "),u+=c.move(p(t,e.meta,{before:u,after:`
`,encode:["`"],...c.current()})),f()}return u+=c.move(`
`),s&&(u+=c.move(s+`
`)),u+=c.move(l),a(),u}function de(e,r,t){return(t?"":"    ")+e}function A(e){return e.label||!e.identifier?e.label||"":F(e.identifier)}function _(e){const r=e.options.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Cannot serialize title with `"+r+"` for `options.quote`, expected `\"`, or `'`");return r}function pe(e,r,t,n){const o=_(t),s=o==='"'?"Quote":"Apostrophe",i=t.enter("definition");let c=t.enter("label");const l=k(n);let a=l.move("[");return a+=l.move(p(t,A(e),{before:a,after:"]",...l.current()})),a+=l.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=t.enter("destinationLiteral"),a+=l.move("<"),a+=l.move(p(t,e.url,{before:a,after:">",...l.current()})),a+=l.move(">")):(c=t.enter("destinationRaw"),a+=l.move(p(t,e.url,{before:a,after:e.title?" ":`
`,...l.current()}))),c(),e.title&&(c=t.enter("title"+s),a+=l.move(" "+o),a+=l.move(p(t,e.title,{before:a,after:o,...l.current()})),a+=l.move(o),c()),i(),a}function me(e){const r=e.options.emphasis||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize emphasis with `"+r+"` for `options.emphasis`, expected `*`, or `_`");return r}function b(e,r,t){const n=r.indexStack,o=e.children||[],s=[];let i=-1,c=t.before;n.push(-1);let l=k(t);for(;++i<o.length;){const a=o[i];let u;if(n[n.length-1]=i,i+1<o.length){let f=r.handle.handlers[o[i+1].type];f&&f.peek&&(f=f.peek),u=f?f(o[i+1],e,r,{before:"",after:"",...l.current()}).charAt(0):""}else u=t.after;s.length>0&&(c==="\r"||c===`
`)&&a.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),c=" ",l=k(t),l.move(s.join(""))),s.push(l.move(r.handle(a,e,r,{...l.current(),before:c,after:u}))),c=s[s.length-1].slice(-1)}return n.pop(),s.join("")}T.peek=ke;function T(e,r,t,n){const o=me(t),s=t.enter("emphasis"),i=k(n);let c=i.move(o);return c+=i.move(b(e,t,{before:c,after:o,...i.current()})),c+=i.move(o),s(),c}function ke(e,r,t){return t.options.emphasis||"*"}function P(e,r){let t=!1;return N(e,n=>{if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return t=!0,V}),Boolean((!e.depth||e.depth<3)&&j(e)&&(r.options.setext||t))}function be(e,r,t,n){const o=Math.max(Math.min(6,e.depth||1),1),s=k(n);if(P(e,t)){const u=t.enter("headingSetext"),f=t.enter("phrasing"),h=b(e,t,{...s.current(),before:`
`,after:`
`});return f(),u(),h+`
`+(o===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const i="#".repeat(o),c=t.enter("headingAtx"),l=t.enter("phrasing");s.move(i+" ");let a=b(e,t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(a)&&(a="&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"+a.slice(1)),a=a?i+" "+a:i,t.options.closeAtx&&(a+=" "+i),l(),c(),a}q.peek=ge;function q(e){return e.value||""}function ge(){return"<"}x.peek=we;function x(e,r,t,n){const o=_(t),s=o==='"'?"Quote":"Apostrophe",i=t.enter("image");let c=t.enter("label");const l=k(n);let a=l.move("![");return a+=l.move(p(t,e.alt,{before:a,after:"]",...l.current()})),a+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=t.enter("destinationLiteral"),a+=l.move("<"),a+=l.move(p(t,e.url,{before:a,after:">",...l.current()})),a+=l.move(">")):(c=t.enter("destinationRaw"),a+=l.move(p(t,e.url,{before:a,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=t.enter("title"+s),a+=l.move(" "+o),a+=l.move(p(t,e.title,{before:a,after:o,...l.current()})),a+=l.move(o),c()),a+=l.move(")"),i(),a}function we(){return"!"}G.peek=ve;function G(e,r,t,n){const o=e.referenceType,s=t.enter("imageReference");let i=t.enter("label");const c=k(n);let l=c.move("![");const a=p(t,e.alt,{before:l,after:"]",...c.current()});l+=c.move(a+"]["),i();const u=t.stack;t.stack=[],i=t.enter("reference");const f=p(t,A(e),{before:l,after:"]",...c.current()});return i(),t.stack=u,s(),o==="full"||!a||a!==f?l+=c.move(f+"]"):o==="shortcut"?l=l.slice(0,-1):l+=c.move("]"),l}function ve(){return"!"}U.peek=Ce;function U(e,r,t){let n=e.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(n);)o+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<t.unsafe.length;){const i=t.unsafe[s],c=M(i);let l;if(!!i.atBreak)for(;l=c.exec(n);){let a=l.index;n.charCodeAt(a)===10&&n.charCodeAt(a-1)===13&&a--,n=n.slice(0,a)+" "+n.slice(l.index+1)}}return o+n+o}function Ce(){return"`"}function Q(e,r){const t=j(e);return Boolean(!r.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}D.peek=ye;function D(e,r,t,n){const o=_(t),s=o==='"'?"Quote":"Apostrophe",i=k(n);let c,l;if(Q(e,t)){const u=t.stack;t.stack=[],c=t.enter("autolink");let f=i.move("<");return f+=i.move(b(e,t,{before:f,after:">",...i.current()})),f+=i.move(">"),c(),t.stack=u,f}c=t.enter("link"),l=t.enter("label");let a=i.move("[");return a+=i.move(b(e,t,{before:a,after:"](",...i.current()})),a+=i.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=t.enter("destinationLiteral"),a+=i.move("<"),a+=i.move(p(t,e.url,{before:a,after:">",...i.current()})),a+=i.move(">")):(l=t.enter("destinationRaw"),a+=i.move(p(t,e.url,{before:a,after:e.title?" ":")",...i.current()}))),l(),e.title&&(l=t.enter("title"+s),a+=i.move(" "+o),a+=i.move(p(t,e.title,{before:a,after:o,...i.current()})),a+=i.move(o),l()),a+=i.move(")"),c(),a}function ye(e,r,t){return Q(e,t)?"<":"["}Z.peek=Ie;function Z(e,r,t,n){const o=e.referenceType,s=t.enter("linkReference");let i=t.enter("label");const c=k(n);let l=c.move("[");const a=b(e,t,{before:l,after:"]",...c.current()});l+=c.move(a+"]["),i();const u=t.stack;t.stack=[],i=t.enter("reference");const f=p(t,A(e),{before:l,after:"]",...c.current()});return i(),t.stack=u,s(),o==="full"||!a||a!==f?l+=c.move(f+"]"):o==="shortcut"?l=l.slice(0,-1):l+=c.move("]"),l}function Ie(){return"["}function B(e){const r=e.options.bullet||"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bullet`, expected `*`, `+`, or `-`");return r}function Ae(e){const r=B(e),t=e.options.bulletOther;if(!t)return r==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===r)throw new Error("Expected `bullet` (`"+r+"`) and `bulletOther` (`"+t+"`) to be different");return t}function H(e){const r=e.options.bulletOrdered||".";if(r!=="."&&r!==")")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOrdered`, expected `.` or `)`");return r}function _e(e){const r=H(e),t=e.options.bulletOrderedOther;if(!t)return r==="."?")":".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(t===r)throw new Error("Expected `bulletOrdered` (`"+r+"`) and `bulletOrderedOther` (`"+t+"`) to be different");return t}function W(e){const r=e.options.rule||"*";if(r!=="*"&&r!=="-"&&r!=="_")throw new Error("Cannot serialize rules with `"+r+"` for `options.rule`, expected `*`, `-`, or `_`");return r}function Be(e,r,t,n){const o=t.enter("list"),s=t.bulletCurrent;let i=e.ordered?H(t):B(t);const c=e.ordered?_e(t):Ae(t),l=t.bulletLastUsed;let a=!1;if(r&&(e.ordered?t.options.bulletOrderedOther:t.options.bulletOther)&&l&&i===l&&(a=!0),!e.ordered){const f=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&f&&(!f.children||!f.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(a=!0),W(t)===i&&f){let h=-1;for(;++h<e.children.length;){const d=e.children[h];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(i=c),t.bulletCurrent=i;const u=C(e,t,n);return t.bulletLastUsed=i,t.bulletCurrent=s,o(),u}function Se(e){const r=e.options.listItemIndent||"tab";if(r===1||r==="1")return"one";if(r!=="tab"&&r!=="one"&&r!=="mixed")throw new Error("Cannot serialize items with `"+r+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return r}function Le(e,r,t,n){const o=Se(t);let s=t.bulletCurrent||B(t);r&&r.type==="list"&&r.ordered&&(s=(typeof r.start=="number"&&r.start>-1?r.start:1)+(t.options.incrementListMarker===!1?0:r.children.indexOf(e))+s);let i=s.length+1;(o==="tab"||o==="mixed"&&(r&&r.type==="list"&&r.spread||e.spread))&&(i=Math.ceil(i/4)*4);const c=k(n);c.move(s+" ".repeat(i-s.length)),c.shift(i);const l=t.enter("listItem"),a=I(C(e,t,c.current()),u);return l(),a;function u(f,h,d){return h?(d?"":" ".repeat(i))+f:(d?s:s+" ".repeat(i-s.length))+f}}function $e(e,r,t,n){const o=t.enter("paragraph"),s=t.enter("phrasing"),i=b(e,t,n);return s(),o(),i}function Oe(e,r,t,n){return C(e,t,n)}function Ee(e){const r=e.options.strong||"*";if(r!=="*"&&r!=="_")throw new Error("Cannot serialize strong with `"+r+"` for `options.strong`, expected `*`, or `_`");return r}X.peek=Fe;function X(e,r,t,n){const o=Ee(t),s=t.enter("strong"),i=k(n);let c=i.move(o+o);return c+=i.move(b(e,t,{before:c,after:o,...i.current()})),c+=i.move(o+o),s(),c}function Fe(e,r,t){return t.options.strong||"*"}function je(e,r,t,n){return p(t,e.value,n)}function ze(e){const r=e.options.ruleRepetition||3;if(r<3)throw new Error("Cannot serialize rules with repetition `"+r+"` for `options.ruleRepetition`, expected `3` or more");return r}function Re(e,r,t){const n=(W(t)+(t.options.ruleSpaces?" ":"")).repeat(ze(t));return t.options.ruleSpaces?n.slice(0,-1):n}const Me={blockquote:le,break:O,code:he,definition:pe,emphasis:T,hardBreak:O,heading:be,html:q,image:x,imageReference:G,inlineCode:U,link:D,linkReference:Z,list:Be,listItem:Le,paragraph:$e,root:Oe,strong:X,text:je,thematicBreak:Re},Te=[Pe];function Pe(e,r,t,n){if(r.type==="code"&&y(r,n)&&(e.type==="list"||e.type===r.type&&y(e,n))||e.type==="list"&&e.type===r.type&&Boolean(e.ordered)===Boolean(r.ordered)&&!(e.ordered?n.options.bulletOrderedOther:n.options.bulletOther))return!1;if("spread"in t&&typeof t.spread=="boolean")return e.type==="paragraph"&&(e.type===r.type||r.type==="definition"||r.type==="heading"&&P(r,n))?void 0:t.spread?1:0}const g=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],qe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:g},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:g},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:g},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:g},{atBreak:!0,character:"~"}];function rt(e,r={}){const t={enter:o,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};v(t,{unsafe:qe,join:Te,handlers:Me}),v(t,r),t.options.tightDefinitions&&v(t,{join:[Ue]}),t.handle=J("type",{invalid:xe,unknown:Ge,handlers:t.handlers});let n=t.handle(e,void 0,t,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return n&&n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n;function o(s){return t.stack.push(s),i;function i(){t.stack.pop()}}}function xe(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function Ge(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function Ue(e,r){if(e.type==="definition"&&e.type===r.type)return 0}export{Je as a,et as b,Ke as c,ne as d,rt as e,Ne as i,tt as l,Ve as s,Ye as t};
