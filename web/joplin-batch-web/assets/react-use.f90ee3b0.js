import{r as a}from"./react.bcb0ff15.js";import{_ as d}from"./tslib.42edd759.js";function m(){var r=a.exports.useRef(!1),e=a.exports.useCallback(function(){return r.current},[]);return a.exports.useEffect(function(){return r.current=!0,function(){r.current=!1}},[]),e}function J(r,e,t){e===void 0&&(e=[]),t===void 0&&(t={loading:!1});var u=a.exports.useRef(0),v=m(),i=a.exports.useState(t),g=i[0],c=i[1],s=a.exports.useCallback(function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var l=++u.current;return g.loading||c(function(f){return d(d({},f),{loading:!0})}),r.apply(void 0,o).then(function(f){return v()&&l===u.current&&c({value:f,loading:!1}),f},function(f){return v()&&l===u.current&&c({error:f,loading:!1}),f})},e);return[g,s]}var b=function(){},h=typeof window<"u",M=function(r){return(r+1)%1e6};function x(){var r=a.exports.useReducer(M,0),e=r[1];return e}function p(r,e){return typeof r=="function"?r.length?r(e):r():r}function S(r){var e=a.exports.useRef(p(r)),t=x();return a.exports.useMemo(function(){return[function(){return e.current},function(u){e.current=p(u,e.current),t()}]},[])}function N(r,e,t){r===void 0&&(r=0),e===void 0&&(e=null),t===void 0&&(t=null);var u=p(r);typeof u!="number"&&console.error("initialValue has to be a number, got "+typeof r),typeof t=="number"?u=Math.max(u,t):t!==null&&console.error("min has to be a number, got "+typeof t),typeof e=="number"?u=Math.min(u,e):e!==null&&console.error("max has to be a number, got "+typeof e);var v=S(u),i=v[0],g=v[1];return[i(),a.exports.useMemo(function(){var c=function(s){var o=i(),n=p(s,o);o!==n&&(typeof t=="number"&&(n=Math.max(n,t)),typeof e=="number"&&(n=Math.min(n,e)),o!==n&&g(n))};return{get:i,set:c,inc:function(s){s===void 0&&(s=1);var o=p(s,i());typeof o!="number"&&console.error("delta has to be a number or function returning a number, got "+typeof o),c(function(n){return n+o})},dec:function(s){s===void 0&&(s=1);var o=p(s,i());typeof o!="number"&&console.error("delta has to be a number or function returning a number, got "+typeof o),c(function(n){return n-o})},reset:function(s){s===void 0&&(s=u);var o=p(s,i());typeof o!="number"&&console.error("value has to be a number or function returning a number, got "+typeof o),u=o,c(o)}}},[u,t,e])]}var I=function(r){a.exports.useEffect(r,[])};const R=I;var _=function(r,e,t){if(!h)return[e,b,b];if(!r)throw new Error("useLocalStorage key may not be falsy");var u=t?t.raw?function(n){return n}:t.deserializer:JSON.parse,v=a.exports.useRef(function(n){try{var l=t?t.raw?String:t.serializer:JSON.stringify,f=localStorage.getItem(n);return f!==null?u(f):(e&&localStorage.setItem(n,l(e)),e)}catch{return e}}),i=a.exports.useState(function(){return v.current(r)}),g=i[0],c=i[1];a.exports.useLayoutEffect(function(){return c(v.current(r))},[r]);var s=a.exports.useCallback(function(n){try{var l=typeof n=="function"?n(g):n;if(typeof l>"u")return;var f=void 0;t?t.raw?typeof l=="string"?f=l:f=JSON.stringify(l):t.serializer?f=t.serializer(l):f=JSON.stringify(l):f=JSON.stringify(l),localStorage.setItem(r,f),c(u(f))}catch{}},[r,c]),o=a.exports.useCallback(function(){try{localStorage.removeItem(r),c(void 0)}catch{}},[r,c]);return[g,s,o]};const O=_;var z=function(r){R(function(){r()})};const L=z;export{J as a,L as b,N as c,O as u};
