import{R as p}from"./react.bcb0ff15.js";import{r as v}from"./remark-parse.ae27876c.js";import{p as l}from"./prop-types.da681dba.js";import{f as N,h as E,s as P,a as R}from"./property-information.89563893.js";import{v as S}from"./unist-util-visit.23fe510a.js";import{R as I}from"./react-is.e13562bd.js";import{w as j}from"./hast-util-whitespace.a4a4a501.js";import{s as $}from"./space-separated-tokens.35ab6e8e.js";import{s as D}from"./comma-separated-tokens.09eb054d.js";import{s as U}from"./style-to-object.75795970.js";import{u as H}from"./unified.cb173dc7.js";import{r as A}from"./remark-rehype.2216e902.js";import{V as C}from"./vfile.7e51f900.js";const b=["http","https","mailto","tel"];function L(e){const t=(e||"").trim(),a=t.charAt(0);if(a==="#"||a==="/")return t;const o=t.indexOf(":");if(o===-1)return t;let r=-1;for(;++r<b.length;){const i=b[r];if(o===i.length&&t.slice(0,i.length).toLowerCase()===i)return t}return r=t.indexOf("?"),r!==-1&&o>r||(r=t.indexOf("#"),r!==-1&&o>r)?t:"javascript:void(0)"}function F(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{S(t,"element",(a,o,r)=>{const i=r;let n;if(e.allowedElements?n=!e.allowedElements.includes(a.tagName):e.disallowedElements&&(n=e.disallowedElements.includes(a.tagName)),!n&&e.allowElement&&typeof o=="number"&&(n=!e.allowElement(a,o,i)),n&&typeof o=="number")return e.unwrapDisallowed&&a.children?i.children.splice(o,1,...a.children):i.children.splice(o,1),o})}}const y={}.hasOwnProperty,B=new Set(["table","thead","tbody","tfoot","tr"]);function T(e,t){const a=[];let o=-1,r;for(;++o<t.children.length;)r=t.children[o],r.type==="element"?a.push(V(e,r,o,t)):r.type==="text"?(t.type!=="element"||!B.has(t.tagName)||!j(r))&&a.push(r.value):r.type==="raw"&&!e.options.skipHtml&&a.push(r.value);return a}function V(e,t,a,o){const r=e.options,i=e.schema,n=t.tagName,s={};let w=i,f;if(i.space==="html"&&n==="svg"&&(w=P,e.schema=w),t.properties)for(f in t.properties)y.call(t.properties,f)&&z(s,f,t.properties[f],e);(n==="ol"||n==="ul")&&e.listDepth++;const x=T(e,t);(n==="ol"||n==="ul")&&e.listDepth--,e.schema=i;const u=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=r.components&&y.call(r.components,n)?r.components[n]:n,c=typeof m=="string"||m===p.Fragment;if(!I.isValidElementType(m))throw new TypeError(`Component for name \`${n}\` not defined or is not renderable`);if(s.key=[n,u.start.line,u.start.column,a].join("-"),n==="a"&&r.linkTarget&&(s.target=typeof r.linkTarget=="function"?r.linkTarget(String(s.href||""),t.children,typeof s.title=="string"?s.title:null):r.linkTarget),n==="a"&&r.transformLinkUri&&(s.href=r.transformLinkUri(String(s.href||""),t.children,typeof s.title=="string"?s.title:null)),!c&&n==="code"&&o.type==="element"&&o.tagName!=="pre"&&(s.inline=!0),!c&&(n==="h1"||n==="h2"||n==="h3"||n==="h4"||n==="h5"||n==="h6")&&(s.level=Number.parseInt(n.charAt(1),10)),n==="img"&&r.transformImageUri&&(s.src=r.transformImageUri(String(s.src||""),String(s.alt||""),typeof s.title=="string"?s.title:null)),!c&&n==="li"&&o.type==="element"){const h=W(t);s.checked=h&&h.properties?Boolean(h.properties.checked):null,s.index=g(o,t),s.ordered=o.tagName==="ol"}return!c&&(n==="ol"||n==="ul")&&(s.ordered=n==="ol",s.depth=e.listDepth),(n==="td"||n==="th")&&(s.align&&(s.style||(s.style={}),s.style.textAlign=s.align,delete s.align),c||(s.isHeader=n==="th")),!c&&n==="tr"&&o.type==="element"&&(s.isHeader=Boolean(o.tagName==="thead")),r.sourcePos&&(s["data-sourcepos"]=q(u)),!c&&r.rawSourcePos&&(s.sourcePosition=t.position),!c&&r.includeElementIndex&&(s.index=g(o,t),s.siblingCount=g(o)),c||(s.node=t),x.length>0?p.createElement(m,s,x):p.createElement(m,s)}function W(e){let t=-1;for(;++t<e.children.length;){const a=e.children[t];if(a.type==="element"&&a.tagName==="input")return a}return null}function g(e,t){let a=-1,o=0;for(;++a<e.children.length&&e.children[a]!==t;)e.children[a].type==="element"&&o++;return o}function z(e,t,a,o){const r=N(o.schema,t);let i=a;i==null||i!==i||(Array.isArray(i)&&(i=r.commaSeparated?D(i):$(i)),r.property==="style"&&typeof i=="string"&&(i=M(i)),r.space&&r.property?e[y.call(E,r.property)?E[r.property]:r.property]=i:r.attribute&&(e[r.attribute]=i))}function M(e){const t={};try{U(e,a)}catch{}return t;function a(o,r){const i=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;t[i.replace(/-([a-z])/g,_)]=r}}function _(e,t){return t.toUpperCase()}function q(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(t=>String(t)).join("")}const k={}.hasOwnProperty,G="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",d={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function O(e){for(const i in d)if(k.call(d,i)&&k.call(e,i)){const n=d[i];console.warn(`[react-markdown] Warning: please ${n.to?`use \`${n.to}\` instead of`:"remove"} \`${i}\` (see <${G}#${n.id}> for more info)`),delete d[i]}const t=H().use(v).use(e.remarkPlugins||[]).use(A,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(F,e),a=new C;typeof e.children=="string"?a.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const o=t.runSync(t.parse(a),a);if(o.type!=="root")throw new TypeError("Expected a `root` node");let r=p.createElement(p.Fragment,{},T({options:e,schema:R,listDepth:0},o));return e.className&&(r=p.createElement("div",{className:e.className},r)),r}O.defaultProps={transformLinkUri:L};O.propTypes={children:l.exports.string,className:l.exports.string,allowElement:l.exports.func,allowedElements:l.exports.arrayOf(l.exports.string),disallowedElements:l.exports.arrayOf(l.exports.string),unwrapDisallowed:l.exports.bool,remarkPlugins:l.exports.arrayOf(l.exports.oneOfType([l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.oneOfType([l.exports.bool,l.exports.string,l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.any)]))])),rehypePlugins:l.exports.arrayOf(l.exports.oneOfType([l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.oneOfType([l.exports.bool,l.exports.string,l.exports.object,l.exports.func,l.exports.arrayOf(l.exports.any)]))])),sourcePos:l.exports.bool,rawSourcePos:l.exports.bool,skipHtml:l.exports.bool,includeElementIndex:l.exports.bool,transformLinkUri:l.exports.oneOfType([l.exports.func,l.exports.bool]),linkTarget:l.exports.oneOfType([l.exports.func,l.exports.string]),transformImageUri:l.exports.func,components:l.exports.object};export{O as R};
